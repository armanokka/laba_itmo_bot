var content=function(t){"use strict";const e=[{k:"DE",v:"German"},{k:"EN",v:"English"},{k:"FR",v:"French"},{k:"ES",v:"Spanish"},{k:"IT",v:"Italian"},{k:"PL",v:"Polish"},{k:"NL",v:"Dutch"},{k:"PT",v:"Portuguese"},{k:"RU",v:"Russian"},{k:"ZH",v:"Chinese"},{k:"JA",v:"Japanese"},{k:"BG",v:"Bulgarian"},{k:"CS",v:"Czech"},{k:"DA",v:"Danish"},{k:"ET",v:"Estonian"},{k:"FI",v:"Finnish"},{k:"EL",v:"Greek"},{k:"HU",v:"Hungarian"},{k:"LV",v:"Latvian"},{k:"LT",v:"Lithuanian"},{k:"RO",v:"Romanian"},{k:"SK",v:"Slovak"},{k:"SL",v:"Slovenian"},{k:"SV",v:"Swedish"}],n=0,o=1,i=2,s="",r="ONGOING_TRANSLATION",a="IS_TRANLSATION_COMPLETE",l="SHOW_ORIGINAL",c="ON_GOING_AUTODETECTION",u="inline",d="automatic",p="manual",h=2,f=3,m="ALWAYS_THIS_LANGUAGE",g="CHOOSE_LANGUAGE",v=[/[^.]+\.deepl\.com/g],_=[/docs.google\.com\/spreadsheets/g],w={deepl_inline_ui:{z_index:2147483650}},y="HINT_KEYBOARD_SHORTCUT",b="INLINE_TRANSLATION_TRIGGER_ICON",$="INPUT_TRANSLATION_TRIGGER_ICON",x="trigger-translation",E="CLICK_ON_SHORTCUT_NOTIFICATION";function T(t){return new Promise(((e,n)=>{chrome.runtime.sendMessage(t,(function(t){t&&t.error&&n(t.error),e(t)}))}))}function S(t,e){return T({action:"dlSendNotification",payload:{type:t,options:e}})}function C(t){return!!t&&e.map((t=>t.k)).includes(t)}function L(t,e=!1){const n=n=>{const o=e?n.path[0]:n.target;!t||t.contains(o)||n.defaultPrevented||t.dispatchEvent(new CustomEvent("click_outside",t))};return document.addEventListener("click",n,!0),{destroy(){document.removeEventListener("click",n,!0)}}}function O(t){document.addEventListener("deepl-reset-event",t)}function N(){}const k=t=>t;function M(t){return t()}function D(){return Object.create(null)}function R(t){t.forEach(M)}function A(t){return"function"==typeof t}function I(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function P(t,...e){if(null==t)return N;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function j(t,e,n){t.$$.on_destroy.push(P(e,n))}function B(t,e,n,o){if(t){const i=q(t,e,n,o);return t[0](i)}}function q(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function H(t,e,n,o){if(t[2]&&o){const i=t[2](o(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|i[o];return t}return e.dirty|i}return e.dirty}function U(t,e,n,o,i,s){if(i){const r=q(e,n,o,s);t.p(r,i)}}function z(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function W(t){return null==t?"":t}function F(t){return t&&A(t.destroy)?t.destroy:N}const G="undefined"!=typeof window;let Y=G?()=>window.performance.now():()=>Date.now(),V=G?t=>requestAnimationFrame(t):N;const J=new Set;function Q(t){J.forEach((e=>{e.c(t)||(J.delete(e),e.f())})),0!==J.size&&V(Q)}function X(t){let e;return 0===J.size&&V(Q),{promise:new Promise((n=>{J.add(e={c:t,f:n})})),abort(){J.delete(e)}}}function K(t,e){t.appendChild(e)}function Z(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function tt(t){const e=it("style");return function(t,e){K(t.head||t,e)}(Z(t),e),e}function et(t,e,n){t.insertBefore(e,n||null)}function nt(t){t.parentNode.removeChild(t)}function ot(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function it(t){return document.createElement(t)}function st(t){return document.createTextNode(t)}function rt(){return st(" ")}function at(){return st("")}function lt(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function ct(t){return function(e){return e.preventDefault(),t.call(this,e)}}function ut(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function dt(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function pt(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function ht(t,e){t.value=null==e?"":e}function ft(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function mt(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}t.selectedIndex=-1}let gt;function vt(){if(void 0===gt){gt=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){gt=!0}}return gt}function _t(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=it("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const o=vt();let i;return o?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=lt(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{i=lt(n.contentWindow,"resize",e)}),K(t,n),()=>{(o||i&&n.contentWindow)&&i(),nt(n)}}function wt(t,e,n){t.classList[n?"add":"remove"](e)}function yt(t,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,!1,e),o}class bt{constructor(){this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.e=it(e.nodeName),this.t=e,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)et(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(nt)}}const $t=new Set;let xt,Et=0;function Tt(t,e,n,o,i,s,r,a=0){const l=16.666/o;let c="{\n";for(let t=0;t<=1;t+=l){const o=e+(n-e)*s(t);c+=100*t+`%{${r(o,1-o)}}\n`}const u=c+`100% {${r(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${a}`,p=Z(t);$t.add(p);const h=p.__svelte_stylesheet||(p.__svelte_stylesheet=tt(t).sheet),f=p.__svelte_rules||(p.__svelte_rules={});f[d]||(f[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${d} ${o}ms linear ${i}ms 1 both`,Et+=1,d}function St(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-o.length;i&&(t.style.animation=o.join(", "),Et-=i,Et||V((()=>{Et||($t.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),$t.clear())})))}function Ct(t){xt=t}function Lt(){if(!xt)throw new Error("Function called outside component initialization");return xt}function Ot(t){Lt().$$.on_mount.push(t)}function Nt(t){Lt().$$.on_destroy.push(t)}function kt(){const t=Lt();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const i=yt(e,n);o.slice().forEach((e=>{e.call(t,i)}))}}}function Mt(t,e){Lt().$$.context.set(t,e)}function Dt(t){return Lt().$$.context.get(t)}function Rt(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const At=[],It=[],Pt=[],jt=[],Bt=Promise.resolve();let qt=!1;function Ht(t){Pt.push(t)}const Ut=new Set;let zt,Wt=0;function Ft(){const t=xt;do{for(;Wt<At.length;){const t=At[Wt];Wt++,Ct(t),Gt(t.$$)}for(Ct(null),At.length=0,Wt=0;It.length;)It.pop()();for(let t=0;t<Pt.length;t+=1){const e=Pt[t];Ut.has(e)||(Ut.add(e),e())}Pt.length=0}while(At.length);for(;jt.length;)jt.pop()();qt=!1,Ut.clear(),Ct(t)}function Gt(t){if(null!==t.fragment){t.update(),R(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ht)}}function Yt(){return zt||(zt=Promise.resolve(),zt.then((()=>{zt=null}))),zt}function Vt(t,e,n){t.dispatchEvent(yt(`${e?"intro":"outro"}${n}`))}const Jt=new Set;let Qt;function Xt(){Qt={r:0,c:[],p:Qt}}function Kt(){Qt.r||R(Qt.c),Qt=Qt.p}function Zt(t,e){t&&t.i&&(Jt.delete(t),t.i(e))}function te(t,e,n,o){if(t&&t.o){if(Jt.has(t))return;Jt.add(t),Qt.c.push((()=>{Jt.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const ee={duration:0};function ne(t,e,n){let o,i,s=e(t,n),r=!1,a=0;function l(){o&&St(t,o)}function c(){const{delay:e=0,duration:n=300,easing:c=k,tick:u=N,css:d}=s||ee;d&&(o=Tt(t,0,1,n,e,c,d,a++)),u(0,1);const p=Y()+e,h=p+n;i&&i.abort(),r=!0,Ht((()=>Vt(t,!0,"start"))),i=X((e=>{if(r){if(e>=h)return u(1,0),Vt(t,!0,"end"),l(),r=!1;if(e>=p){const t=c((e-p)/n);u(t,1-t)}}return r}))}let u=!1;return{start(){u||(u=!0,St(t),A(s)?(s=s(),Yt().then(c)):c())},invalidate(){u=!1},end(){r&&(l(),r=!1)}}}function oe(t,e,n,o){let i=e(t,n),s=o?0:1,r=null,a=null,l=null;function c(){l&&St(t,l)}function u(t,e){const n=t.b-s;return e*=Math.abs(n),{a:s,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function d(e){const{delay:n=0,duration:o=300,easing:d=k,tick:p=N,css:h}=i||ee,f={start:Y()+n,b:e};e||(f.group=Qt,Qt.r+=1),r||a?a=f:(h&&(c(),l=Tt(t,s,e,o,n,d,h)),e&&p(0,1),r=u(f,o),Ht((()=>Vt(t,e,"start"))),X((e=>{if(a&&e>a.start&&(r=u(a,o),a=null,Vt(t,r.b,"start"),h&&(c(),l=Tt(t,s,r.b,r.duration,0,d,i.css))),r)if(e>=r.end)p(s=r.b,1-s),Vt(t,r.b,"end"),a||(r.b?c():--r.group.r||R(r.group.c)),r=null;else if(e>=r.start){const t=e-r.start;s=r.a+r.d*d(t/r.duration),p(s,1-s)}return!(!r&&!a)})))}return{run(t){A(i)?Yt().then((()=>{i=i(),d(t)})):d(t)},end(){c(),r=a=null}}}function ie(t){t&&t.c()}function se(t,e,n,o){const{fragment:i,on_mount:s,on_destroy:r,after_update:a}=t.$$;i&&i.m(e,n),o||Ht((()=>{const e=s.map(M).filter(A);r?r.push(...e):R(e),t.$$.on_mount=[]})),a.forEach(Ht)}function re(t,e){const n=t.$$;null!==n.fragment&&(R(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ae(t,e){-1===t.$$.dirty[0]&&(At.push(t),qt||(qt=!0,Bt.then(Ft)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function le(t,e,n,o,i,s,r,a=[-1]){const l=xt;Ct(t);const c=t.$$={fragment:null,ctx:null,props:s,update:N,not_equal:i,bound:D(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:D(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};r&&r(c.root);let u=!1;if(c.ctx=n?n(t,e.props||{},((e,n,...o)=>{const s=o.length?o[0]:n;return c.ctx&&i(c.ctx[e],c.ctx[e]=s)&&(!c.skip_bound&&c.bound[e]&&c.bound[e](s),u&&ae(t,e)),n})):[],c.update(),u=!0,R(c.before_update),c.fragment=!!o&&o(c.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);c.fragment&&c.fragment.l(t),t.forEach(nt)}else c.fragment&&c.fragment.c();e.intro&&Zt(t.$$.fragment),se(t,e.target,e.anchor,e.customElement),Ft()}Ct(l)}class ce{$destroy(){re(this,1),this.$destroy=N}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ue=[];function de(t,e=N){let n;const o=new Set;function i(e){if(I(t,e)&&(t=e,n)){const e=!ue.length;for(const e of o)e[1](),ue.push(e,t);if(e){for(let t=0;t<ue.length;t+=2)ue[t][0](ue[t+1]);ue.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(s,r=N){const a=[s,r];return o.add(a),1===o.size&&(n=e(i)||N),s(t),()=>{o.delete(a),0===o.size&&(n(),n=null)}}}}const pe="production",he="development";function fe(){return pe===he}const me=function(){const{subscribe:t,update:e}=de({});return{subscribe:t,update:t=>{if(fe()){const e="background-color: #403f3e;padding: 3px; font-size:12px;color:#c8e0c1; font-weight:600";console.log(`%c${(new Date).toISOString()} UPDATE WEBSITE STATE`,e,t)}e((e=>({...e,...t,error:t.error?t.error:void 0})))}}}();t.websiteData=void 0;const ge=me.subscribe((e=>{t.websiteData={...e},e&&Object.keys(e).length>0&&T({action:"newWebsiteState",payload:{...e}})}));const ve=function(){const{subscribe:t,set:e,update:n}=de({});return chrome.storage.sync.get(null,(t=>{e(t),chrome.storage.local.get(["isLoggedIn","isProUser"],(t=>{n((e=>({...e,...t})))}))})),chrome.storage.onChanged.addListener((t=>{const e=["a_t","r_t","i_t"];let o={};for(const[n,i]of Object.entries(t))!1===e.includes(n)&&(o[n]=i.newValue);if(fe()){const t="background-color: #324054;padding: 3px; font-size:12px;color:#e1e8c3; font-weight:600";console.log(`%c${(new Date).toISOString()} UPDATE USER SETTINGS`,t,o)}n((t=>({...t,...o})))})),{subscribe:t,set:t=>chrome.storage.sync.set(t)}}(),_e=function(){const{subscribe:t,update:e}=de({});return chrome.runtime.onMessage.addListener((function(t,n){switch(t.action){case"newWebsiteState":t.payload&&e((e=>({...e,[n.tab.id]:{...e[n.tab.id],...t.payload,error:t.payload.error?t.payload.error:void 0}})));break;case"resetWebsiteState":t.payload&&e((e=>({...e,[n.tab.id]:{...t.payload}})))}return!0})),{subscribe:t,fetchCurrentWebsiteSettings:()=>{chrome.tabs&&chrome.tabs.query({active:!0,currentWindow:!0},(function(t){chrome.tabs.sendMessage(t[0].id,{action:"dlGetWebsiteData"},(function(n){e((e=>({...e,[t[0].id]:{...e[t[0].id],...n}})))}))}))}}}();!function(t,e,n){const o=!Array.isArray(t),i=o?[t]:t,s=e.length<2;return r=t=>{let n=!1;const r=[];let a=0,l=N;const c=()=>{if(a)return;l();const n=e(o?r[0]:r,t);s?t(n):l=A(n)?n:N},u=i.map(((t,e)=>P(t,(t=>{r[e]=t,a&=~(1<<e),n&&c()}),(()=>{a|=1<<e}))));return n=!0,c(),function(){R(u),l()}},{subscribe:de(n,r).subscribe};var r}(_e,(async(t,e)=>{if(!chrome.tabs)return;e(t[(await chrome.tabs.query({active:!0,currentWindow:!0}))[0].id])}));let we,ye,be,$e,xe,Ee=RegExp(/^(script|style)$/,"i"),Te=RegExp(/^(a|abbr|acronym|b|bdo|big|br|button|cite|code|dfn|em|i|img|input|kbd|label|map|object|q|samp|script|select|small|span|strong|sub|sup|textarea|time|tt|var|font)$/,"i"),Se=0,Ce=[];const Le=me.subscribe((t=>{we=t.translationState,t.translatedDOM&&(Ce=t.translatedDOM.map((t=>t))),t.translationState!==xe&&(xe=t.translationState,we===l&&Ne())})),Oe=ve.subscribe((t=>{if(0!==Object.keys(t).length){if($e&&$e!==t.selectedTargetLanguage){const t=we!==s;t&&Ne(),me.update({translatedDOM:[]}),Ce=[],t&&me.update({translationState:s})}$e=t.selectedTargetLanguage}}));function Ne(){Ce.forEach((t=>{He(t.clone),je(t.original,t.clone),Ie(t.original,t.clone),ke(t.original,!1)})),be&&(be.disconnect(),be=void 0),ye&&(document.removeEventListener("scroll",ye),ye=void 0),we=s}function ke(t,e){if("#text"!=t.nodeName&&"#comment"!=t.nodeName&&t.dataset){t.dataset.dlTranslated=e;for(var n=0;n<t.childNodes.length;++n)ke(t.childNodes[n],e)}}function Me(t){if(void 0!==t.dataset){void 0===t.dataset.dlUid&&(t.dataset.dlUid=Se++),void 0===t.dataset.dlOriginal&&(t.dataset.dlOriginal=!0);for(var e=0;e<t.childNodes.length;++e)Me(t.childNodes[e])}}function De(t){if(void 0!==t.attributes){var e=null,n=null,o=null,i=null;for(void 0!==t.dataset&&(void 0!==t.dataset.dlUid&&(e=t.dataset.dlUid),void 0!==t.dataset.dlWs&&(n=t.dataset.dlWs),void 0!==t.dataset.dlLeadingWhitespaces&&(o=t.dataset.dlLeadingWhitespaces),void 0!==t.dataset.dlTrailingWhitespaces&&(i=t.dataset.dlTrailingWhitespaces));t.attributes.length>0;)t.removeAttribute(t.attributes[0].name);null!==e&&(t.dataset.dlUid=e),null!==n&&(t.dataset.dlWs=n),null!==o&&(t.dataset.dlLeadingWhitespaces=o),null!==i&&(t.dataset.dlTrailingWhitespaces=i)}for(var s=0;s<t.childNodes.length;++s)De(t.childNodes[s])}function Re(t,e){Me(e);for(var n=e.cloneNode(!0),o=0;o<n.childNodes.length;++o)Be(n.childNodes[o]);De(n),t.push({original:e,clone:n}),ke(e,!0)}function Ae(t,e){if(void 0===e.dataset)return null;if(t.dataset&&t.dataset.dlUid&&e.dataset.dlUid&&t.dataset.dlUid===e.dataset.dlUid)return t;for(var n=0;n<t.childNodes.length;++n){var o=Ae(t.childNodes[n],e);if(null!==o)return o}return null}function Ie(t,e){for(var n=[];t.childNodes.length>0;)n.push(t.removeChild(t.childNodes[0]));for(;e.childNodes.length>0;)t.appendChild(e.childNodes[0]);for(var o=0;o<n.length;++o)e.appendChild(n[o])}function Pe(t,e){if(null!==t.parentNode&&null!==e.parentNode){var n=document.createElement("div");t.parentNode.replaceChild(n,t),e.parentNode.replaceChild(t,e),n.parentNode.replaceChild(e,n),Ie(t,e)}}function je(t,e){for(var n=0;n<e.childNodes.length;++n){var o,i=e.childNodes[n],s=Ae(t,i);if(s)Pe(o=s.dataset&&"true"===s.dataset.dlOriginal?s:s.cloneNode(!1),i),je(t,o);else je(t,i)}}function Be(t){!Te.test(t.nodeName)||window.getComputedStyle(t).display;for(var e=0;e<t.childNodes.length;++e){var n=t.childNodes[e];"#comment"!=n.nodeName&&("#text"==n.nodeName?""!=n.nodeValue.trim()&&(n.nodeValue=" "+n.nodeValue,t.dataset&&(t.dataset.dlWs=!0)):Be(n))}}function qe(t,e,n){let o=t.trim();return`${Array(e+1).join(" ")}${o}${Array(n+1).join(" ")}`}function He(t){if(t.dataset&&"true"===t.dataset.dlWs)for(var e=0;e<t.childNodes.length;++e){var n=t.childNodes[e];"#text"==n.nodeName&&n.nodeValue.length>0&&(n.nodeValue=qe(n.nodeValue,t.dataset.dlLeadingWhitespaces?Number(t.dataset.dlLeadingWhitespaces):0,t.dataset.dlTrailingWhitespaces?Number(t.dataset.dlTrailingWhitespaces):0))}for(e=0;e<t.childNodes.length;++e)He(t.childNodes[e])}function Ue(t){if(void 0!==t.dataset&&(void 0===t.dataset.dlTranslated||"false"===t.dataset.dlTranslated))return!1;for(var e=0;e<t.childNodes.length;++e){var n=t.childNodes[e];if("#text"!=n.nodeName&&"#comment"!=n.nodeName&&!Ue(n))return!1}return!0}function ze(t,e){if("#text"!=e.nodeName&&"#comment"!=e.nodeName&&!function(t){if("no"==t.getAttribute("translate"))return!0;var e=t.className;return!(null==e||null==e.split||!e.split(" ").includes("notranslate"))}(e))if(function(t){if("#text"==t.nodeName||"#comment"==t.nodeName)return!1;if(Ee.test(t.nodeName))return!1;for(var e=0;e<t.childNodes.length;++e)if("#text"==(n=t.childNodes[e]).nodeName&&""!=n.wholeText.trim()||"font"==n.nodeName)return!0;for(e=0;e<t.childNodes.length;++e){var n;if("#text"!=(n=t.childNodes[e]).nodeName&&"#comment"!=n.nodeName&&(!Te.test(n.nodeName)||Ee.test(n.nodeName)||"inline"!=window.getComputedStyle(n).display))return!1}return void 0!==t.innerText&&""!=t.innerText.trim()}(e))(function(t,e){var n=t.getBoundingClientRect(),o=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight;if(n.bottom<0-i*e||n.right<0-o*e)return!1;if(n.top>i*(1+e))return!1;if(n.left>o*(1+e))return!1;var s=window.getComputedStyle(t).position;return"absolute"===s||"fixed"===s||null!==t.offsetParent})(e,.3)&&!Ue(e)&&Re(t,e);else for(var n=0;n<e.childNodes.length;++n)ze(t,e.childNodes[n])}async function We(t,e){const n=[];try{if(ze(n,document.documentElement),0===n.length)return;me.update({translationState:r}),await async function(t,e,n,o,i,s){if(t.length>0)return T({action:"dlRequestHtmlTranslation",payload:{sourceLang:e,trigger:o,texts:t.map((t=>t.clone.innerHTML.replace(/<!--(.|\s)*?-->/g,""))),isFirstTime:i,domainName:s}}).then((e=>{for(var n=0;n<t.length;++n)t[n].clone.innerHTML=e[n],He(t[n].clone),je(t[n].original,t[n].clone),Ie(t[n].original,t[n].clone),ke(t[n].original,!0)}))}(n,t.sourceLang,t.noTranslationLanguages,t.trigger,e,window.location.hostname)}catch(t){console.error("error",t);for(var o=0;o<n.length;++o)ke(n[o].original,!1);return me.update({translationState:s,error:t.message?t.message:t}),be&&be.disconnect,void(ye&&document.removeEventListener("scroll",ye))}me.update({translationState:a}),n.length>0&&me.update({translatedDOM:[...Ce,...n]})}async function Fe(t){be&&(be.disconnect(),be=void 0),ye&&(document.removeEventListener("scroll",ye),ye=void 0);let e,n,o=!1;Ce.length>0?(me.update({translationState:r}),Ne(),Ce.forEach((t=>{Ie(t.original,t.clone),Ie(t.original,t.clone),ke(t.original,!0)})),me.update({translationState:a})):o=!0,await We(t,o),ye=async()=>{n=!0,window.clearTimeout(e),e=setTimeout((function(){we===a&&window.requestAnimationFrame((async()=>{await We(t,!1),n=!1}))}),100)},document.addEventListener("scroll",ye),be=new MutationObserver((e=>{if(n)return;if(we!==a)return;e.filter((t=>t.addedNodes&&t.addedNodes.length>0)).length>0&&window.requestAnimationFrame((async()=>{await We(t,!1)}))})),be.observe(document.body,{childList:!0,subtree:!0}),O((()=>{Le(),Oe(),be&&be.disconnect(),ye&&document.removeEventListener("scroll",ye)}))}
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var Ge=function(t,e){return Ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Ge(t,e)};var Ye,Ve,Je,Qe,Xe=function(){return Xe=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Xe.apply(this,arguments)};function Ke(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ze(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,i,s=n.call(t),r=[];try{for(;(void 0===e||e-- >0)&&!(o=s.next()).done;)r.push(o.value)}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return r}function tn(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ze(arguments[e]));return t}function en(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function nn(t,e){return t.require(e)}!function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"}(Ye||(Ye={})),function(t){t.Ok="ok",t.Errored="errored",t.Crashed="crashed"}(Ve||(Ve={})),function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"}(Je||(Je={})),function(t){t.BeforeSend="before_send",t.EventProcessor="event_processor",t.NetworkError="network_error",t.QueueOverflow="queue_overflow",t.RateLimitBackoff="ratelimit_backoff",t.SampleRate="sample_rate"}(Qe||(Qe={}));var on={};function sn(){return en()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:on}function rn(t){return"[object String]"===Object.prototype.toString.call(t)}function an(t){return"[object Object]"===Object.prototype.toString.call(t)}function ln(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function cn(t,e){try{return t instanceof e}catch(t){return!1}}var un=sn(),dn="Sentry Logger ";function pn(t){var e=sn();if(!("console"in e))return t();var n=e.console,o={};["debug","info","warn","error","log","assert"].forEach((function(t){t in e.console&&n[t].__sentry_original__&&(o[t]=n[t],n[t]=n[t].__sentry_original__)}));var i=t();return Object.keys(o).forEach((function(t){n[t]=o[t]})),i}var hn=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&pn((function(){un.console.log(dn+"[Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&pn((function(){un.console.warn(dn+"[Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&pn((function(){un.console.error(dn+"[Error]: "+t.join(" "))}))},t}();un.__SENTRY__=un.__SENTRY__||{};var fn=un.__SENTRY__.logger||(un.__SENTRY__.logger=new hn),mn="<anonymous>";function gn(t){try{return t&&"function"==typeof t&&t.name||mn}catch(t){return mn}}function vn(t,e,n){if(e in t){var o=t[e],i=n(o);if("function"==typeof i)try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:o}})}catch(t){}t[e]=i}}function _n(t){var e,n;if(an(t)){var o=t,i={};try{for(var s=Ke(Object.keys(o)),r=s.next();!r.done;r=s.next()){var a=r.value;void 0!==o[a]&&(i[a]=_n(o[a]))}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return i}return Array.isArray(t)?t.map(_n):t}function wn(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function yn(){if(!function(){if(!("fetch"in sn()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}())return!1;var t=sn();if(wn(t.fetch))return!0;var e=!1,n=t.document;if(n&&"function"==typeof n.createElement)try{var o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o),o.contentWindow&&o.contentWindow.fetch&&(e=wn(o.contentWindow.fetch)),n.head.removeChild(o)}catch(t){fn.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return e}var bn,$n=sn(),xn={},En={};function Tn(t){if(!En[t])switch(En[t]=!0,t){case"console":!function(){if(!("console"in $n))return;["debug","info","warn","error","log","assert"].forEach((function(t){t in $n.console&&vn($n.console,t,(function(e){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];Cn("console",{args:n,level:t}),e&&Function.prototype.apply.call(e,$n.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in $n))return;var t=Cn.bind(null,"dom"),e=Mn(t,!0);$n.document.addEventListener("click",e,!1),$n.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((function(e){var n=$n[e]&&$n[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(vn(n,"addEventListener",(function(e){return function(n,o,i){if("click"===n||"keypress"==n)try{var s=this,r=s.__sentry_instrumentation_handlers__=s.__sentry_instrumentation_handlers__||{},a=r[n]=r[n]||{refCount:0};if(!a.handler){var l=Mn(t);a.handler=l,e.call(this,n,l,i)}a.refCount+=1}catch(t){}return e.call(this,n,o,i)}})),vn(n,"removeEventListener",(function(t){return function(e,n,o){if("click"===e||"keypress"==e)try{var i=this,s=i.__sentry_instrumentation_handlers__||{},r=s[e];r&&(r.refCount-=1,r.refCount<=0&&(t.call(this,e,r.handler,o),r.handler=void 0,delete s[e]),0===Object.keys(s).length&&delete i.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,n,o)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in $n))return;var t=[],e=[],n=XMLHttpRequest.prototype;vn(n,"open",(function(n){return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var s=this,r=o[1];s.__sentry_xhr__={method:rn(o[0])?o[0].toUpperCase():o[0],url:o[1]},rn(r)&&"POST"===s.__sentry_xhr__.method&&r.match(/sentry_key/)&&(s.__sentry_own_request__=!0);var a=function(){if(4===s.readyState){try{s.__sentry_xhr__&&(s.__sentry_xhr__.status_code=s.status)}catch(t){}try{var n=t.indexOf(s);if(-1!==n){t.splice(n);var i=e.splice(n)[0];s.__sentry_xhr__&&void 0!==i[0]&&(s.__sentry_xhr__.body=i[0])}}catch(t){}Cn("xhr",{args:o,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:s})}};return"onreadystatechange"in s&&"function"==typeof s.onreadystatechange?vn(s,"onreadystatechange",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return a(),t.apply(s,e)}})):s.addEventListener("readystatechange",a),n.apply(s,o)}})),vn(n,"send",(function(n){return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return t.push(this),e.push(o),Cn("xhr",{args:o,startTimestamp:Date.now(),xhr:this}),n.apply(this,o)}}))}();break;case"fetch":!function(){if(!yn())return;vn($n,"fetch",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o={args:e,fetchData:{method:Ln(e),url:On(e)},startTimestamp:Date.now()};return Cn("fetch",Xe({},o)),t.apply($n,e).then((function(t){return Cn("fetch",Xe(Xe({},o),{endTimestamp:Date.now(),response:t})),t}),(function(t){throw Cn("fetch",Xe(Xe({},o),{endTimestamp:Date.now(),error:t})),t}))}}))}();break;case"history":!function(){if(!function(){var t=sn(),e=t.chrome,n=e&&e.app&&e.app.runtime,o="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!n&&o}())return;var t=$n.onpopstate;function e(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=e.length>2?e[2]:void 0;if(o){var i=bn,s=String(o);bn=s,Cn("history",{from:i,to:s})}return t.apply(this,e)}}$n.onpopstate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=$n.location.href,i=bn;if(bn=o,Cn("history",{from:i,to:o}),t)try{return t.apply(this,e)}catch(t){}},vn($n.history,"pushState",e),vn($n.history,"replaceState",e)}();break;case"error":Dn=$n.onerror,$n.onerror=function(t,e,n,o,i){return Cn("error",{column:o,error:i,line:n,msg:t,url:e}),!!Dn&&Dn.apply(this,arguments)};break;case"unhandledrejection":Rn=$n.onunhandledrejection,$n.onunhandledrejection=function(t){return Cn("unhandledrejection",t),!Rn||Rn.apply(this,arguments)};break;default:fn.warn("unknown instrumentation type:",t)}}function Sn(t){t&&"string"==typeof t.type&&"function"==typeof t.callback&&(xn[t.type]=xn[t.type]||[],xn[t.type].push(t.callback),Tn(t.type))}function Cn(t,e){var n,o;if(t&&xn[t])try{for(var i=Ke(xn[t]||[]),s=i.next();!s.done;s=i.next()){var r=s.value;try{r(e)}catch(e){fn.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+gn(r)+"\nError: "+e)}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}}function Ln(t){return void 0===t&&(t=[]),"Request"in $n&&cn(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function On(t){return void 0===t&&(t=[]),"string"==typeof t[0]?t[0]:"Request"in $n&&cn(t[0],Request)?t[0].url:String(t[0])}var Nn,kn;function Mn(t,e){return void 0===e&&(e=!1),function(n){if(n&&kn!==n&&!function(t){if("keypress"!==t.type)return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!1}catch(t){}return!0}(n)){var o="keypress"===n.type?"input":n.type;(void 0===Nn||function(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(t){}return!1}(kn,n))&&(t({event:n,name:o,global:e}),kn=n),clearTimeout(Nn),Nn=$n.setTimeout((function(){Nn=void 0}),1e3)}}}var Dn=null;var Rn=null;function An(){var t=sn(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var o=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return o(n[0])+o(n[1])+o(n[2])+o(n[3])+o(n[4])+o(n[5])+o(n[6])+o(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}var In=function(){function t(t){var e=this;this._state="PENDING",this._handlers=[],this._resolve=function(t){e._setResult("RESOLVED",t)},this._reject=function(t){e._setResult("REJECTED",t)},this._setResult=function(t,n){"PENDING"===e._state&&(ln(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()},this._executeHandlers=function(){if("PENDING"!==e._state){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t.done||("RESOLVED"===e._state&&t.onfulfilled&&t.onfulfilled(e._value),"REJECTED"===e._state&&t.onrejected&&t.onrejected(e._value),t.done=!0)}))}};try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}return t.resolve=function(e){return new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.all=function(e){return new t((function(n,o){if(Array.isArray(e))if(0!==e.length){var i=e.length,s=[];e.forEach((function(e,r){t.resolve(e).then((function(t){s[r]=t,0===(i-=1)&&n(s)})).then(null,o)}))}else n([]);else o(new TypeError("Promise.all requires an array as input."))}))},t.prototype.then=function(e,n){var o=this;return new t((function(t,i){o._attachHandler({done:!1,onfulfilled:function(n){if(e)try{return void t(e(n))}catch(t){return void i(t)}else t(n)},onrejected:function(e){if(n)try{return void t(n(e))}catch(t){return void i(t)}else i(e)}})}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var n=this;return new t((function(t,o){var i,s;return n.then((function(t){s=!1,i=t,e&&e()}),(function(t){s=!0,i=t,e&&e()})).then((function(){s?o(i):t(i)}))}))},t.prototype.toString=function(){return"[object SyncPromise]"},t}(),Pn={nowSeconds:function(){return Date.now()/1e3}};var jn=en()?function(){try{return nn(module,"perf_hooks").performance}catch(t){return}}():function(){var t=sn().performance;if(t&&t.now)return{now:function(){return t.now()},timeOrigin:Date.now()-t.now()}}(),Bn=void 0===jn?Pn:{nowSeconds:function(){return(jn.timeOrigin+jn.now())/1e3}},qn=Pn.nowSeconds.bind(Pn),Hn=Bn.nowSeconds.bind(Bn),Un=Hn;!function(){var t=sn().performance;if(t&&t.now){var e=36e5,n=t.now(),o=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+n-o):e,s=i<e,r=t.timing&&t.timing.navigationStart,a="number"==typeof r?Math.abs(r+n-o):e;(s||a<e)&&(i<=a&&t.timeOrigin)}}();var zn=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=tn(e._breadcrumbs),n._tags=Xe({},e._tags),n._extra=Xe({},e._extra),n._contexts=Xe({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=tn(e._eventProcessors),n._requestSession=e._requestSession),n},t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.getRequestSession=function(){return this._requestSession},t.prototype.setRequestSession=function(t){return this._requestSession=t,this},t.prototype.setTags=function(t){return this._tags=Xe(Xe({},this._tags),t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=Xe(Xe({},this._tags),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=Xe(Xe({},this._extra),t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=Xe(Xe({},this._extra),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var n;return null===e?delete this._contexts[t]:this._contexts=Xe(Xe({},this._contexts),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t,e,n,o,i=this.getSpan();return(null===(t=i)||void 0===t?void 0:t.transaction)?null===(e=i)||void 0===e?void 0:e.transaction:(null===(o=null===(n=i)||void 0===n?void 0:n.spanRecorder)||void 0===o?void 0:o.spans[0])?i.spanRecorder.spans[0]:void 0},t.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if("function"==typeof e){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=Xe(Xe({},this._tags),e._tags),this._extra=Xe(Xe({},this._extra),e._extra),this._contexts=Xe(Xe({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):an(e)&&(e=e,this._tags=Xe(Xe({},this._tags),e.tags),this._extra=Xe(Xe({},this._extra),e.extra),this._contexts=Xe(Xe({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n="number"==typeof e?Math.min(e,100):100;if(n<=0)return this;var o=Xe({timestamp:qn()},t);return this._breadcrumbs=tn(this._breadcrumbs,[o]).slice(-n),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(t,e){var n;if(this._extra&&Object.keys(this._extra).length&&(t.extra=Xe(Xe({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=Xe(Xe({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=Xe(Xe({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=Xe(Xe({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=Xe({trace:this._span.getTraceContext()},t.contexts);var o=null===(n=this._span.transaction)||void 0===n?void 0:n.name;o&&(t.tags=Xe({transaction:o},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=tn(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(tn(function(){var t=sn();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}(),this._eventProcessors),t,e)},t.prototype._notifyEventProcessors=function(t,e,n,o){var i=this;return void 0===o&&(o=0),new In((function(s,r){var a=t[o];if(null===e||"function"!=typeof a)s(e);else{var l=a(Xe({},e),n);ln(l)?l.then((function(e){return i._notifyEventProcessors(t,e,n,o+1).then(s)})).then(null,r):i._notifyEventProcessors(t,l,n,o+1).then(s).then(null,r)}}))},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(e){e(t)})),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}();var Wn,Fn=function(){function t(t){this.errors=0,this.sid=An(),this.duration=0,this.status=Ye.Ok,this.init=!0,this.ignoreDuration=!1;var e=Hn();this.timestamp=e,this.started=e,t&&this.update(t)}return t.prototype.update=function(t){if(void 0===t&&(t={}),t.user&&(!this.ipAddress&&t.user.ip_address&&(this.ipAddress=t.user.ip_address),this.did||t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||Hn(),t.ignoreDuration&&(this.ignoreDuration=t.ignoreDuration),t.sid&&(this.sid=32===t.sid.length?t.sid:An()),void 0!==t.init&&(this.init=t.init),!this.did&&t.did&&(this.did=""+t.did),"number"==typeof t.started&&(this.started=t.started),this.ignoreDuration)this.duration=void 0;else if("number"==typeof t.duration)this.duration=t.duration;else{var e=this.timestamp-this.started;this.duration=e>=0?e:0}t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),!this.ipAddress&&t.ipAddress&&(this.ipAddress=t.ipAddress),!this.userAgent&&t.userAgent&&(this.userAgent=t.userAgent),"number"==typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},t.prototype.close=function(t){t?this.update({status:t}):this.status===Ye.Ok?this.update({status:Ye.Exited}):this.update()},t.prototype.toJSON=function(){return _n({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:_n({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}(),Gn=function(){function t(t,e,n){void 0===e&&(e=new zn),void 0===n&&(n=4),this._version=n,this._stack=[{}],this.getStackTop().scope=e,t&&this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=zn.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},t.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=An(),o=e;if(!e){var i=void 0;try{throw new Error("Sentry syntheticException")}catch(t){i=t}o={originalException:t,syntheticException:i}}return this._invokeClient("captureException",t,Xe(Xe({},o),{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var o=this._lastEventId=An(),i=n;if(!n){var s=void 0;try{throw new Error(t)}catch(t){s=t}i={originalException:t,syntheticException:s}}return this._invokeClient("captureMessage",t,e,Xe(Xe({},i),{event_id:o})),o},t.prototype.captureEvent=function(t,e){var n=An();return"transaction"!==t.type&&(this._lastEventId=n),this._invokeClient("captureEvent",t,Xe(Xe({},e),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop(),o=n.scope,i=n.client;if(o&&i){var s=i.getOptions&&i.getOptions()||{},r=s.beforeBreadcrumb,a=void 0===r?null:r,l=s.maxBreadcrumbs,c=void 0===l?100:l;if(!(c<=0)){var u=qn(),d=Xe({timestamp:u},t),p=a?pn((function(){return a(d,e)})):d;null!==p&&o.addBreadcrumb(p,c)}}},t.prototype.setUser=function(t){var e=this.getScope();e&&e.setUser(t)},t.prototype.setTags=function(t){var e=this.getScope();e&&e.setTags(t)},t.prototype.setExtras=function(t){var e=this.getScope();e&&e.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getScope();n&&n.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getScope();n&&n.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getScope();n&&n.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop(),n=e.scope,o=e.client;n&&o&&t(n)},t.prototype.run=function(t){var e=Vn(this);try{t(this)}finally{Vn(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return fn.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t,e){return this._callExtensionMethod("startTransaction",t,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(t){if(void 0===t&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var t,e,n,o,i;null===(n=null===(e=null===(t=this.getStackTop())||void 0===t?void 0:t.scope)||void 0===e?void 0:e.getSession())||void 0===n||n.close(),this._sendSessionUpdate(),null===(i=null===(o=this.getStackTop())||void 0===o?void 0:o.scope)||void 0===i||i.setSession()},t.prototype.startSession=function(t){var e=this.getStackTop(),n=e.scope,o=e.client,i=o&&o.getOptions()||{},s=i.release,r=i.environment,a=(sn().navigator||{}).userAgent,l=new Fn(Xe(Xe(Xe({release:s,environment:r},n&&{user:n.getUser()}),a&&{userAgent:a}),t));if(n){var c=n.getSession&&n.getSession();c&&c.status===Ye.Ok&&c.update({status:Ye.Exited}),this.endSession(),n.setSession(l)}return l},t.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),e=t.scope,n=t.client;if(e){var o=e.getSession&&e.getSession();o&&n&&n.captureSession&&n.captureSession(o)}},t.prototype._invokeClient=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=this.getStackTop(),s=i.scope,r=i.client;r&&r[t]&&(e=r)[t].apply(e,tn(n,[s]))},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=Yn(),i=o.__SENTRY__;if(i&&i.extensions&&"function"==typeof i.extensions[t])return i.extensions[t].apply(this,e);fn.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function Yn(){var t=sn();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function Vn(t){var e=Yn(),n=Xn(e);return Kn(e,t),n}function Jn(){var t=Yn();return Qn(t)&&!Xn(t).isOlderThan(4)||Kn(t,new Gn),en()?function(t){var e,n,o;try{var i=null===(o=null===(n=null===(e=Yn().__SENTRY__)||void 0===e?void 0:e.extensions)||void 0===n?void 0:n.domain)||void 0===o?void 0:o.active;if(!i)return Xn(t);if(!Qn(i)||Xn(i).isOlderThan(4)){var s=Xn(t).getStackTop();Kn(i,new Gn(s.client,zn.clone(s.scope)))}return Xn(i)}catch(e){return Xn(t)}}(t):Xn(t)}function Qn(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function Xn(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new Gn),t.__SENTRY__.hub}function Kn(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}function Zn(){var t,e,n,o=(void 0===t&&(t=Jn()),null===(n=null===(e=t)||void 0===e?void 0:e.getScope())||void 0===n?void 0:n.getTransaction());o&&(fn.log("[Tracing] Transaction: "+Wn.InternalError+" -> Global error occured"),o.setStatus(Wn.InternalError))}!function(t){t.Ok="ok",t.DeadlineExceeded="deadline_exceeded",t.Unauthenticated="unauthenticated",t.PermissionDenied="permission_denied",t.NotFound="not_found",t.ResourceExhausted="resource_exhausted",t.InvalidArgument="invalid_argument",t.Unimplemented="unimplemented",t.Unavailable="unavailable",t.InternalError="internal_error",t.UnknownError="unknown_error",t.Cancelled="cancelled",t.AlreadyExists="already_exists",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.DataLoss="data_loss"}(Wn||(Wn={})),function(t){t.fromHttpCode=function(e){if(e<400&&e>=100)return t.Ok;if(e>=400&&e<500)switch(e){case 401:return t.Unauthenticated;case 403:return t.PermissionDenied;case 404:return t.NotFound;case 409:return t.AlreadyExists;case 413:return t.FailedPrecondition;case 429:return t.ResourceExhausted;default:return t.InvalidArgument}if(e>=500&&e<600)switch(e){case 501:return t.Unimplemented;case 503:return t.Unavailable;case 504:return t.DeadlineExceeded;default:return t.InternalError}return t.UnknownError}}(Wn||(Wn={}));var to,eo=function(){function t(t){void 0===t&&(t=1e3),this.spans=[],this._maxlen=t}return t.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},t}(),no=function(t){function e(e,n){var o=t.call(this,e)||this;return o._measurements={},o._hub=Jn(),cn(n,Gn)&&(o._hub=n),o.name=e.name||"",o.metadata=e.metadata||{},o._trimEnd=e.trimEnd,o.transaction=o,o}return function(t,e){function n(){this.constructor=t}Ge(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.setName=function(t){this.name=t},e.prototype.initSpanRecorder=function(t){void 0===t&&(t=1e3),this.spanRecorder||(this.spanRecorder=new eo(t)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(t){this._measurements=Xe({},t)},e.prototype.setMetadata=function(t){this.metadata=Xe(Xe({},this.metadata),t)},e.prototype.finish=function(e){var n,o,i,s,r,a=this;if(void 0===this.endTimestamp){if(this.name||(fn.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,e),!0!==this.sampled)return fn.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(null===(r=null===(i=null===(n=this._hub.getClient())||void 0===n?void 0:(o=n).getTransport)||void 0===i?void 0:(s=i.call(o)).recordLostEvent)||void 0===r||r.call(s,Qe.SampleRate,"transaction"));var l=this.spanRecorder?this.spanRecorder.spans.filter((function(t){return t!==a&&t.endTimestamp})):[];this._trimEnd&&l.length>0&&(this.endTimestamp=l.reduce((function(t,e){return t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t})).endTimestamp);var c={contexts:{trace:this.getTraceContext()},spans:l,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata};return Object.keys(this._measurements).length>0&&(fn.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),c.measurements=this._measurements),fn.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(c)}},e.prototype.toContext=function(){var e=t.prototype.toContext.call(this);return _n(Xe(Xe({},e),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(e){var n;return t.prototype.updateWithContext.call(this,e),this.name=null!=(n=e.name)?n:"",this._trimEnd=e.trimEnd,this},e}(function(){function t(t){if(this.traceId=An(),this.spanId=An().substring(16),this.startTimestamp=Un(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return t.prototype.child=function(t){return this.startChild(t)},t.prototype.startChild=function(e){var n=new t(Xe(Xe({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},t.prototype.setTag=function(t,e){var n;return this.tags=Xe(Xe({},this.tags),((n={})[t]=e,n)),this},t.prototype.setData=function(t,e){var n;return this.data=Xe(Xe({},this.data),((n={})[t]=e,n)),this},t.prototype.setStatus=function(t){return this.status=t,this},t.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var e=Wn.fromHttpCode(t);return e!==Wn.UnknownError&&this.setStatus(e),this},t.prototype.isSuccess=function(){return this.status===Wn.Ok},t.prototype.finish=function(t){this.endTimestamp="number"==typeof t?t:Un()},t.prototype.toTraceparent=function(){var t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},t.prototype.toContext=function(){return _n({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(t){var e,n,o,i,s;return this.data=null!=(e=t.data)?e:{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=null!=(n=t.spanId)?n:this.spanId,this.startTimestamp=null!=(o=t.startTimestamp)?o:this.startTimestamp,this.status=t.status,this.tags=null!=(i=t.tags)?i:{},this.traceId=null!=(s=t.traceId)?s:this.traceId,this},t.prototype.getTraceContext=function(){return _n({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return _n({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}());function oo(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function io(t,e,n){return function(t){var e;return void 0===t&&(t=null===(e=Jn().getClient())||void 0===e?void 0:e.getOptions()),!!t&&("tracesSampleRate"in t||"tracesSampler"in t)}(e)?void 0!==t.sampled?(t.setMetadata({transactionSampling:{method:Je.Explicit}}),t):("function"==typeof e.tracesSampler?(o=e.tracesSampler(n),t.setMetadata({transactionSampling:{method:Je.Sampler,rate:Number(o)}})):void 0!==n.parentSampled?(o=n.parentSampled,t.setMetadata({transactionSampling:{method:Je.Inheritance}})):(o=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:Je.Rate,rate:Number(o)}})),function(t){if(isNaN(t)||"number"!=typeof t&&"boolean"!=typeof t)return fn.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(typeof t)+"."),!1;if(t<0||t>1)return fn.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1;return!0}(o)?o?(t.sampled=Math.random()<o,t.sampled?(fn.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(fn.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(o)+")"),t)):(fn.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(fn.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)):(t.sampled=!1,t);var o}function so(t,e){var n,o,i=(null===(n=this.getClient())||void 0===n?void 0:n.getOptions())||{},s=new no(t,this);return(s=io(s,i,Xe({parentSampled:t.parentSampled,transactionContext:t},e))).sampled&&s.initSpanRecorder(null===(o=i._experiments)||void 0===o?void 0:o.maxSpans),s}function ro(){var t=Yn();if(t.__SENTRY__){var e={mongodb:function(){return new(nn(module,"./integrations/node/mongo").Mongo)},mongoose:function(){return new(nn(module,"./integrations/node/mongo").Mongo)({mongoose:!0})},mysql:function(){return new(nn(module,"./integrations/node/mysql").Mysql)},pg:function(){return new(nn(module,"./integrations/node/postgres").Postgres)}},n=Object.keys(e).filter((function(t){return!!function(t){var e;try{e=nn(module,t)}catch(t){}try{var n=nn(module,"process").cwd;e=nn(module,n()+"/node_modules/"+t)}catch(t){}return e}(t)})).map((function(t){try{return e[t]()}catch(t){return}})).filter((function(t){return t}));n.length>0&&(t.__SENTRY__.integrations=tn(t.__SENTRY__.integrations||[],n))}}function ao(t){chrome.runtime.sendMessage({action:"dlTrackError",errorMessage:t})}function lo(){const t=window.getSelection().getRangeAt(0),e=t.getBoundingClientRect(),n=document.body.parentNode.getBoundingClientRect(),{top:o,left:i,right:s,bottom:r,height:a,width:l}=e,c={x:i-n.left,y:r-n.top,selectedTop:o,selectedBottom:r,selectedRight:n.width-s,selectedLeft:i+window.pageXOffset,selectedWidth:l,height:a};if(t.collapsed){const e=t.commonAncestorContainer;c.x=e.getBoundingClientRect().left,c.y=e.getBoundingClientRect().top+e.offsetHeight}return c}function co(t){const e=t=>parseFloat(t.split("px")[0]),n=t.clientWidth,o=t.clienHeight,i=e(window.getComputedStyle(t).paddingRight),s=e(window.getComputedStyle(t).paddingLeft),r=e(window.getComputedStyle(t).paddingTop),a=e(window.getComputedStyle(t).paddingBottom);return s+i!==n&&r+a!==o}let uo,po,ho,fo;(to=Yn()).__SENTRY__&&(to.__SENTRY__.extensions=to.__SENTRY__.extensions||{},to.__SENTRY__.extensions.startTransaction||(to.__SENTRY__.extensions.startTransaction=so),to.__SENTRY__.extensions.traceHeaders||(to.__SENTRY__.extensions.traceHeaders=oo)),en()&&ro(),Sn({callback:Zn,type:"error"}),Sn({callback:Zn,type:"unhandledrejection"});const{deepl_inline_ui:mo}=w;function go(t){try{vo(),po=document.createElement("deepl-inline-translate-tooltip"),po.style.zIndex=mo.z_index,document.documentElement.appendChild(po);const e=lo();po.createDOM(e,vo,t),me.update({isTranslationTooltipInjected:!0})}catch(t){fe()&&console.error(t),ao(t.message)}}function vo(){try{po&&(po.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-inline-translate-tooltip"),(t=>t.remove()))),me.update({isTranslationTooltipInjected:!1}),po=void 0}catch(t){fe()&&console.error(t),ao(t.message)}}function _o(){try{if(document.querySelector("deepl-page-load-popup"))return;uo=document.createElement("deepl-page-load-popup"),document.documentElement.appendChild(uo),uo.createDOM(),document.addEventListener("click",wo),O((()=>{wo()}))}catch(t){fe()&&console.error(t),ao(t.message)}}function wo(){try{uo&&(uo.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-page-load-popup"),(t=>t.remove())),uo=void 0,document.removeEventListener("click",wo))}catch(t){fe()&&console.error(t),ao(t.message)}}function yo(){try{if(!ho)return;ho.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-inline-trigger"),(t=>t.remove())),ho=void 0}catch(t){fe()&&console.error(t),ao(t.message)}}function bo(t){yo();try{ho=document.createElement("deepl-inline-trigger"),ho.style.zIndex=mo.z_index,document.documentElement.appendChild(ho),ho.createDOM(),O((()=>{yo()}))}catch(t){fe()&&console.error(t),ao(t.message)}}function $o(){const t=t=>{requestAnimationFrame((()=>{const e=window.getSelection();if(!e.toString().trim())return;if(2===t?.button)return;const n=e.getRangeAt(0)?.commonAncestorContainer;(n.contains(t.target)||t.target.contains(n))&&(e.isCollapsed||e.anchorNode?.parentNode?.isContentEditable||bo())}))};document.addEventListener("mouseup",t),document.addEventListener("mousedown",yo),O((()=>{document.removeEventListener("mouseup",t),document.removeEventListener("mousedown",yo)}))}function xo(t,e){try{fo=document.createElement("deepl-notification"),fo.style.zIndex=mo.z_index,document.documentElement.appendChild(fo),fo.createDOM(t,e),O((()=>{fo.cleanupDOM()}))}catch(t){fe()&&console.error(t),ao(t.message)}}const Eo=e=>{if(e.targetLang){const e=window.getSelection(),i=e.getRangeAt(0),a="#text"!=i.commonAncestorContainer.nodeName?[...i.commonAncestorContainer.getElementsByTagName("*")]:[i.startContainer.parentNode];a.find((t=>t===i.startContainer.parentNode))||a.unshift(i.startContainer.parentNode);const l=[];for(var n,o=0;n=a[o];o++)e.containsNode(n,!0)&&l.push({text:n.innerHTML});l.length>0&&(go(me),me.update({translationState:r,translatedSnippet:"",translatedDOMSnippet:"",originalSnippet:""}),T({action:"dlRequestInlineDOMTranslation",payload:{requests:l,trigger:u,sourceLang:t.websiteData.websiteLanguage}}).then((t=>{me.update({translationState:s,translatedDOMSnippet:t,originalSnippet:l})})).catch((t=>{me.update({translationState:s,error:t.message?t.message:t})})))}},To=e=>{if(e.targetLang&&window.getSelection()&&window.getSelection().toString()){var n=window.getSelection().toString();document.getElementsByTagName("deepl-inline-translate-tooltip").length||go(me),me.update({translationState:r,translatedSnippet:"",translatedDOMSnippet:"",originalSnippet:""}),T({action:"dlRequestInlineTranslation",payload:{requests:[{text:n}],domainName:window.location.hostname,trigger:u,sourceLang:t.websiteData.websiteLanguage}}).then((t=>{me.update({translationState:s,translatedSnippet:t[0].text,originalSnippet:n,websiteLanguage:t[0].detected_source_language})})).catch((t=>{me.update({translationState:s,originalSnippet:n,error:t.message?t.message:chrome.i18n.getMessage(t)})}))}},So=async(t,e)=>{vo();const n=await T({action:"dlGetAppSettings"});var o;Fe({sourceLang:t,trigger:e,isFirstTime:!0,noTranslationLanguages:(o=n.languagesForTranslation,Object.keys(o).filter((t=>o[t]===i)))}).catch((t=>{me.update({translationState:s,error:t.message?t.message:t})}))},Co=async()=>{let e=document.documentElement.lang;!e&&t.websiteData.websiteLanguage&&(e=t.websiteData.websiteLanguage),me.update({websiteLanguage:e,isSupportedLanguage:C(e),hostname:window.location.hostname})},Lo=async()=>await T({action:"dlGetUserState"});(function(){var t=window.Document.prototype.createElement,e=window.Document.prototype.createElementNS,n=window.Document.prototype.importNode,o=window.Document.prototype.prepend,i=window.Document.prototype.append,s=window.DocumentFragment.prototype.prepend,r=window.DocumentFragment.prototype.append,a=window.Node.prototype.cloneNode,l=window.Node.prototype.appendChild,c=window.Node.prototype.insertBefore,u=window.Node.prototype.removeChild,d=window.Node.prototype.replaceChild,p=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),h=window.Element.prototype.attachShadow,f=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),m=window.Element.prototype.getAttribute,g=window.Element.prototype.setAttribute,v=window.Element.prototype.removeAttribute,_=window.Element.prototype.getAttributeNS,w=window.Element.prototype.setAttributeNS,y=window.Element.prototype.removeAttributeNS,b=window.Element.prototype.insertAdjacentElement,$=window.Element.prototype.insertAdjacentHTML,x=window.Element.prototype.prepend,E=window.Element.prototype.append,T=window.Element.prototype.before,S=window.Element.prototype.after,C=window.Element.prototype.replaceWith,L=window.Element.prototype.remove,O=window.HTMLElement,N=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),k=window.HTMLElement.prototype.insertAdjacentElement,M=window.HTMLElement.prototype.insertAdjacentHTML,D=new Set;function R(t){var e=D.has(t);return t=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(t),!e&&t}"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach((function(t){return D.add(t)}));var A=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function I(t){var e=t.isConnected;if(void 0!==e)return e;if(A(t))return!0;for(;t&&!(t.__CE_isImportDocument||t instanceof Document);)t=t.parentNode||(window.ShadowRoot&&t instanceof ShadowRoot?t.host:void 0);return!(!t||!(t.__CE_isImportDocument||t instanceof Document))}function P(t){var e=t.children;if(e)return Array.prototype.slice.call(e);for(e=[],t=t.firstChild;t;t=t.nextSibling)t.nodeType===Node.ELEMENT_NODE&&e.push(t);return e}function j(t,e){for(;e&&e!==t&&!e.nextSibling;)e=e.parentNode;return e&&e!==t?e.nextSibling:null}function B(t,e,n){for(var o=t;o;){if(o.nodeType===Node.ELEMENT_NODE){var i=o;e(i);var s=i.localName;if("link"===s&&"import"===i.getAttribute("rel")){if(o=i.import,void 0===n&&(n=new Set),o instanceof Node&&!n.has(o))for(n.add(o),o=o.firstChild;o;o=o.nextSibling)B(o,e,n);o=j(t,i);continue}if("template"===s){o=j(t,i);continue}if(i=i.__CE_shadowRoot)for(i=i.firstChild;i;i=i.nextSibling)B(i,e,n)}o=o.firstChild?o.firstChild:j(t,o)}}function q(){var t=!(null==at||!at.noDocumentConstructionObserver),e=!(null==at||!at.shadyDomFastWalk);this.m=[],this.g=[],this.j=!1,this.shadyDomFastWalk=e,this.I=!t}function H(t,e,n,o){var i=window.ShadyDOM;if(t.shadyDomFastWalk&&i&&i.inUse){if(e.nodeType===Node.ELEMENT_NODE&&n(e),e.querySelectorAll)for(t=i.nativeMethods.querySelectorAll.call(e,"*"),e=0;e<t.length;e++)n(t[e])}else B(e,n,o)}function U(t,e){t.j&&H(t,e,(function(e){return z(t,e)}))}function z(t,e){if(t.j&&!e.__CE_patched){e.__CE_patched=!0;for(var n=0;n<t.m.length;n++)t.m[n](e);for(n=0;n<t.g.length;n++)t.g[n](e)}}function W(t,e){var n=[];for(H(t,e,(function(t){return n.push(t)})),e=0;e<n.length;e++){var o=n[e];1===o.__CE_state?t.connectedCallback(o):Y(t,o)}}function F(t,e){var n=[];for(H(t,e,(function(t){return n.push(t)})),e=0;e<n.length;e++){var o=n[e];1===o.__CE_state&&t.disconnectedCallback(o)}}function G(t,e,n){var o=(n=void 0===n?{}:n).J,i=n.upgrade||function(e){return Y(t,e)},s=[];for(H(t,e,(function(e){if(t.j&&z(t,e),"link"===e.localName&&"import"===e.getAttribute("rel")){var n=e.import;n instanceof Node&&(n.__CE_isImportDocument=!0,n.__CE_registry=document.__CE_registry),n&&"complete"===n.readyState?n.__CE_documentLoadHandled=!0:e.addEventListener("load",(function(){var n=e.import;if(!n.__CE_documentLoadHandled){n.__CE_documentLoadHandled=!0;var s=new Set;o&&(o.forEach((function(t){return s.add(t)})),s.delete(n)),G(t,n,{J:s,upgrade:i})}}))}else s.push(e)}),o),e=0;e<s.length;e++)i(s[e])}function Y(t,e){try{var n=e.ownerDocument,o=n.__CE_registry,i=o&&(n.defaultView||n.__CE_isImportDocument)?ot(o,e.localName):void 0;if(i&&void 0===e.__CE_state){i.constructionStack.push(e);try{try{if(new i.constructorFunction!==e)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{i.constructionStack.pop()}}catch(t){throw e.__CE_state=2,t}if(e.__CE_state=1,e.__CE_definition=i,i.attributeChangedCallback&&e.hasAttributes()){var s=i.observedAttributes;for(i=0;i<s.length;i++){var r=s[i],a=e.getAttribute(r);null!==a&&t.attributeChangedCallback(e,r,null,a,null)}}I(e)&&t.connectedCallback(e)}}catch(t){J(t)}}function V(n,o,i,s){var r=o.__CE_registry;if(r&&(null===s||"http://www.w3.org/1999/xhtml"===s)&&(r=ot(r,i)))try{var a=new r.constructorFunction;if(void 0===a.__CE_state||void 0===a.__CE_definition)throw Error("Failed to construct '"+i+"': The returned value was not constructed with the HTMLElement constructor.");if("http://www.w3.org/1999/xhtml"!==a.namespaceURI)throw Error("Failed to construct '"+i+"': The constructed element's namespace must be the HTML namespace.");if(a.hasAttributes())throw Error("Failed to construct '"+i+"': The constructed element must not have any attributes.");if(null!==a.firstChild)throw Error("Failed to construct '"+i+"': The constructed element must not have any children.");if(null!==a.parentNode)throw Error("Failed to construct '"+i+"': The constructed element must not have a parent node.");if(a.ownerDocument!==o)throw Error("Failed to construct '"+i+"': The constructed element's owner document is incorrect.");if(a.localName!==i)throw Error("Failed to construct '"+i+"': The constructed element's local name is incorrect.");return a}catch(r){return J(r),o=null===s?t.call(o,i):e.call(o,s,i),Object.setPrototypeOf(o,HTMLUnknownElement.prototype),o.__CE_state=2,o.__CE_definition=void 0,z(n,o),o}return z(n,o=null===s?t.call(o,i):e.call(o,s,i)),o}function J(t){var e=t.message,n=t.sourceURL||t.fileName||"",o=t.line||t.lineNumber||0,i=t.column||t.columnNumber||0,s=void 0;void 0===ErrorEvent.prototype.initErrorEvent?s=new ErrorEvent("error",{cancelable:!0,message:e,filename:n,lineno:o,colno:i,error:t}):((s=document.createEvent("ErrorEvent")).initErrorEvent("error",!1,!0,e,n,o),s.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),void 0===s.error&&Object.defineProperty(s,"error",{configurable:!0,enumerable:!0,get:function(){return t}}),window.dispatchEvent(s),s.defaultPrevented||console.error(t)}function Q(){var t=this;this.g=void 0,this.F=new Promise((function(e){t.l=e}))}function X(t){var e=document;this.l=void 0,this.h=t,this.g=e,G(this.h,this.g),"loading"===this.g.readyState&&(this.l=new MutationObserver(this.G.bind(this)),this.l.observe(this.g,{childList:!0,subtree:!0}))}function K(t){t.l&&t.l.disconnect()}function Z(t){this.s=new Map,this.u=new Map,this.C=new Map,this.A=!1,this.B=new Map,this.o=function(t){return t()},this.i=!1,this.v=[],this.h=t,this.D=t.I?new X(t):void 0}function tt(t,e){if(!R(e))throw new SyntaxError("The element name '"+e+"' is not valid.");if(ot(t,e))throw Error("A custom element with name '"+e+"' has already been defined.");if(t.A)throw Error("A custom element is already being defined.")}function et(t,e,n){var o;t.A=!0;try{var i=n.prototype;if(!(i instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var s=function(t){var e=i[t];if(void 0!==e&&!(e instanceof Function))throw Error("The '"+t+"' callback must be a function.");return e},r=s("connectedCallback"),a=s("disconnectedCallback"),l=s("adoptedCallback"),c=(o=s("attributeChangedCallback"))&&n.observedAttributes||[]}catch(t){throw t}finally{t.A=!1}return n={localName:e,constructorFunction:n,connectedCallback:r,disconnectedCallback:a,adoptedCallback:l,attributeChangedCallback:o,observedAttributes:c,constructionStack:[]},t.u.set(e,n),t.C.set(n.constructorFunction,n),n}function nt(t){if(!1!==t.i){t.i=!1;for(var e=[],n=t.v,o=new Map,i=0;i<n.length;i++)o.set(n[i],[]);for(G(t.h,document,{upgrade:function(n){if(void 0===n.__CE_state){var i=n.localName,s=o.get(i);s?s.push(n):t.u.has(i)&&e.push(n)}}}),i=0;i<e.length;i++)Y(t.h,e[i]);for(i=0;i<n.length;i++){for(var s=n[i],r=o.get(s),a=0;a<r.length;a++)Y(t.h,r[a]);(s=t.B.get(s))&&s.resolve(void 0)}n.length=0}}function ot(t,e){var n=t.u.get(e);if(n)return n;if(n=t.s.get(e)){t.s.delete(e);try{return et(t,e,n())}catch(t){J(t)}}}function it(t,e,n){function o(e){return function(n){for(var o=[],i=0;i<arguments.length;++i)o[i]=arguments[i];i=[];for(var s=[],r=0;r<o.length;r++){var a=o[r];if(a instanceof Element&&I(a)&&s.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)i.push(a);else i.push(a)}for(e.apply(this,o),o=0;o<s.length;o++)F(t,s[o]);if(I(this))for(o=0;o<i.length;o++)(s=i[o])instanceof Element&&W(t,s)}}void 0!==n.prepend&&(e.prepend=o(n.prepend)),void 0!==n.append&&(e.append=o(n.append))}function st(t){function n(e,n){Object.defineProperty(e,"innerHTML",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){var o=this,i=void 0;if(I(this)&&(i=[],H(t,this,(function(t){t!==o&&i.push(t)}))),n.set.call(this,e),i)for(var s=0;s<i.length;s++){var r=i[s];1===r.__CE_state&&t.disconnectedCallback(r)}return this.ownerDocument.__CE_registry?G(t,this):U(t,this),e}})}function o(e,n){e.insertAdjacentElement=function(e,o){var i=I(o);return e=n.call(this,e,o),i&&F(t,o),I(e)&&W(t,o),e}}function i(e,n){function o(e,n){for(var o=[];e!==n;e=e.nextSibling)o.push(e);for(n=0;n<o.length;n++)G(t,o[n])}e.insertAdjacentHTML=function(t,e){if("beforebegin"===(t=t.toLowerCase())){var i=this.previousSibling;n.call(this,t,e),o(i||this.parentNode.firstChild,this)}else if("afterbegin"===t)i=this.firstChild,n.call(this,t,e),o(this.firstChild,i);else if("beforeend"===t)i=this.lastChild,n.call(this,t,e),o(i||this.firstChild,null);else{if("afterend"!==t)throw new SyntaxError("The value provided ("+String(t)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");i=this.nextSibling,n.call(this,t,e),o(this.nextSibling,i)}}}h&&(Element.prototype.attachShadow=function(e){if(e=h.call(this,e),t.j&&!e.__CE_patched){e.__CE_patched=!0;for(var n=0;n<t.m.length;n++)t.m[n](e)}return this.__CE_shadowRoot=e}),f&&f.get?n(Element.prototype,f):N&&N.get?n(HTMLElement.prototype,N):function(t,e){t.j=!0,t.g.push(e)}(t,(function(t){n(t,{enumerable:!0,configurable:!0,get:function(){return a.call(this,!0).innerHTML},set:function(t){var n="template"===this.localName,o=n?this.content:this,i=e.call(document,this.namespaceURI,this.localName);for(i.innerHTML=t;0<o.childNodes.length;)u.call(o,o.childNodes[0]);for(t=n?i.content:i;0<t.childNodes.length;)l.call(o,t.childNodes[0])}})})),Element.prototype.setAttribute=function(e,n){if(1!==this.__CE_state)return g.call(this,e,n);var o=m.call(this,e);g.call(this,e,n),n=m.call(this,e),t.attributeChangedCallback(this,e,o,n,null)},Element.prototype.setAttributeNS=function(e,n,o){if(1!==this.__CE_state)return w.call(this,e,n,o);var i=_.call(this,e,n);w.call(this,e,n,o),o=_.call(this,e,n),t.attributeChangedCallback(this,n,i,o,e)},Element.prototype.removeAttribute=function(e){if(1!==this.__CE_state)return v.call(this,e);var n=m.call(this,e);v.call(this,e),null!==n&&t.attributeChangedCallback(this,e,n,null,null)},Element.prototype.removeAttributeNS=function(e,n){if(1!==this.__CE_state)return y.call(this,e,n);var o=_.call(this,e,n);y.call(this,e,n);var i=_.call(this,e,n);o!==i&&t.attributeChangedCallback(this,n,o,i,e)},k?o(HTMLElement.prototype,k):b&&o(Element.prototype,b),M?i(HTMLElement.prototype,M):$&&i(Element.prototype,$),it(t,Element.prototype,{prepend:x,append:E}),function(t){function e(e){return function(n){for(var o=[],i=0;i<arguments.length;++i)o[i]=arguments[i];i=[];for(var s=[],r=0;r<o.length;r++){var a=o[r];if(a instanceof Element&&I(a)&&s.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)i.push(a);else i.push(a)}for(e.apply(this,o),o=0;o<s.length;o++)F(t,s[o]);if(I(this))for(o=0;o<i.length;o++)(s=i[o])instanceof Element&&W(t,s)}}var n=Element.prototype;void 0!==T&&(n.before=e(T)),void 0!==S&&(n.after=e(S)),void 0!==C&&(n.replaceWith=function(e){for(var n=[],o=0;o<arguments.length;++o)n[o]=arguments[o];o=[];for(var i=[],s=0;s<n.length;s++){var r=n[s];if(r instanceof Element&&I(r)&&i.push(r),r instanceof DocumentFragment)for(r=r.firstChild;r;r=r.nextSibling)o.push(r);else o.push(r)}for(s=I(this),C.apply(this,n),n=0;n<i.length;n++)F(t,i[n]);if(s)for(F(t,this),n=0;n<o.length;n++)(i=o[n])instanceof Element&&W(t,i)}),void 0!==L&&(n.remove=function(){var e=I(this);L.call(this),e&&F(t,this)})}(t)}q.prototype.connectedCallback=function(t){var e=t.__CE_definition;if(e.connectedCallback)try{e.connectedCallback.call(t)}catch(t){J(t)}},q.prototype.disconnectedCallback=function(t){var e=t.__CE_definition;if(e.disconnectedCallback)try{e.disconnectedCallback.call(t)}catch(t){J(t)}},q.prototype.attributeChangedCallback=function(t,e,n,o,i){var s=t.__CE_definition;if(s.attributeChangedCallback&&-1<s.observedAttributes.indexOf(e))try{s.attributeChangedCallback.call(t,e,n,o,i)}catch(t){J(t)}},Q.prototype.resolve=function(t){if(this.g)throw Error("Already resolved.");this.g=t,this.l(t)},X.prototype.G=function(t){var e=this.g.readyState;for("interactive"!==e&&"complete"!==e||K(this),e=0;e<t.length;e++)for(var n=t[e].addedNodes,o=0;o<n.length;o++)G(this.h,n[o])},Z.prototype.H=function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");tt(this,t),this.s.set(t,e),this.v.push(t),this.i||(this.i=!0,this.o((function(){return nt(n)})))},Z.prototype.define=function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructors must be functions.");tt(this,t),et(this,t,e),this.v.push(t),this.i||(this.i=!0,this.o((function(){return nt(n)})))},Z.prototype.upgrade=function(t){G(this.h,t)},Z.prototype.get=function(t){if(t=ot(this,t))return t.constructorFunction},Z.prototype.whenDefined=function(t){if(!R(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this.B.get(t);if(e)return e.F;e=new Q,this.B.set(t,e);var n=this.u.has(t)||this.s.has(t);return t=-1===this.v.indexOf(t),n&&t&&e.resolve(void 0),e.F},Z.prototype.polyfillWrapFlushCallback=function(t){this.D&&K(this.D);var e=this.o;this.o=function(n){return t((function(){return e(n)}))}},window.CustomElementRegistry=Z,Z.prototype.define=Z.prototype.define,Z.prototype.upgrade=Z.prototype.upgrade,Z.prototype.get=Z.prototype.get,Z.prototype.whenDefined=Z.prototype.whenDefined,Z.prototype.polyfillDefineLazy=Z.prototype.H,Z.prototype.polyfillWrapFlushCallback=Z.prototype.polyfillWrapFlushCallback;var rt={};var at=window.customElements;function lt(){var e=new q;!function(e){function n(){var n=this.constructor,o=document.__CE_registry.C.get(n);if(!o)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var i=o.constructionStack;if(0===i.length)return i=t.call(document,o.localName),Object.setPrototypeOf(i,n.prototype),i.__CE_state=1,i.__CE_definition=o,z(e,i),i;var s=i.length-1,r=i[s];if(r===rt)throw Error("Failed to construct '"+o.localName+"': This element was already constructed.");return i[s]=rt,Object.setPrototypeOf(r,n.prototype),z(e,r),r}n.prototype=O.prototype,Object.defineProperty(HTMLElement.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:n}),window.HTMLElement=n}(e),function(t){Document.prototype.createElement=function(e){return V(t,this,e,null)},Document.prototype.importNode=function(e,o){return e=n.call(this,e,!!o),this.__CE_registry?G(t,e):U(t,e),e},Document.prototype.createElementNS=function(e,n){return V(t,this,n,e)},it(t,Document.prototype,{prepend:o,append:i})}(e),it(e,DocumentFragment.prototype,{prepend:s,append:r}),function(t){function e(e,n){Object.defineProperty(e,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,e);else{var o=void 0;if(this.firstChild){var i=this.childNodes,s=i.length;if(0<s&&I(this)){o=Array(s);for(var r=0;r<s;r++)o[r]=i[r]}}if(n.set.call(this,e),o)for(e=0;e<o.length;e++)F(t,o[e])}}})}Node.prototype.insertBefore=function(e,n){if(e instanceof DocumentFragment){var o=P(e);if(e=c.call(this,e,n),I(this))for(n=0;n<o.length;n++)W(t,o[n]);return e}return o=e instanceof Element&&I(e),n=c.call(this,e,n),o&&F(t,e),I(this)&&W(t,e),n},Node.prototype.appendChild=function(e){if(e instanceof DocumentFragment){var n=P(e);if(e=l.call(this,e),I(this))for(var o=0;o<n.length;o++)W(t,n[o]);return e}return n=e instanceof Element&&I(e),o=l.call(this,e),n&&F(t,e),I(this)&&W(t,e),o},Node.prototype.cloneNode=function(e){return e=a.call(this,!!e),this.ownerDocument.__CE_registry?G(t,e):U(t,e),e},Node.prototype.removeChild=function(e){var n=e instanceof Element&&I(e),o=u.call(this,e);return n&&F(t,e),o},Node.prototype.replaceChild=function(e,n){if(e instanceof DocumentFragment){var o=P(e);if(e=d.call(this,e,n),I(this))for(F(t,n),n=0;n<o.length;n++)W(t,o[n]);return e}o=e instanceof Element&&I(e);var i=d.call(this,e,n),s=I(this);return s&&F(t,n),o&&F(t,e),s&&W(t,e),i},p&&p.get?e(Node.prototype,p):function(t,e){t.j=!0,t.m.push(e)}(t,(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=this.firstChild;e;e=e.nextSibling)e.nodeType!==Node.COMMENT_NODE&&t.push(e.textContent);return t.join("")},set:function(t){for(;this.firstChild;)u.call(this,this.firstChild);null!=t&&""!==t&&l.call(this,document.createTextNode(t))}})}))}(e),st(e),e=new Z(e),document.__CE_registry=e,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:e})}at&&!at.forcePolyfill&&"function"==typeof at.define&&"function"==typeof at.get||lt(),window.__CE_installPolyfill=lt}).call(self);const Oo={webComponent:"WEBCOMPONENT_INPUT_TRANSLATION_ICON",svelteComponent:"SVELTE_COMPONENT_INPUT_TRANSLATION_ICON"},No="discord.com",ko="app.slack.com",Mo="jira";var Do={discord:function(t,e){if(t===Oo.webComponent)return function(t){if(t.dataset&&"true"===t.dataset.dlInputTranslation&&"combobox"===t.getAttribute("role"))return"display: none;";if(!t.dataset||"true"!==t.dataset.dlInputTranslation||"textbox"===!t.getAttribute("role"))return;return`margin-top: ${t.clientHeight/4}px;`}(e)},slack:function(t,e){switch(t){case Oo.webComponent:return function(t){if(!t.dataset||"true"!==t.dataset.dlInputTranslation||"textbox"===!t.getAttribute("role"))return;return`top: -3px; margin-top: ${t.clientHeight/4}px; margin-right: 10px`}(e);case Oo.svelteComponent:return"transform: scale(1);"}},jira:function(t,e){if("jira"==document.body.id)return t===Oo.webComponent?function(t){if("tinymce"===t.id)return;if(t instanceof HTMLTextAreaElement&&"description"===t.id)return;return"display: none;"}(e):void 0}};function Ro(t,e,n){switch(t){case No:return Do.discord(e,n);case ko:return Do.slack(e,n);default:if(t.includes(Mo)||"jira"===document.body.id)return Do.jira(e,n)}}function Ao(t,e){if(!t||!e)return!1;const n=/[\n\r\s]+/gm,o=t.replace(n,""),i=e.replace(n,"");return o.includes(i)}function Io(t){return t&&function(t){return t.replace(/./gm,(function(t){return t.match(/[a-z0-9\s]+/i)?t:"&#"+t.charCodeAt(0)+";"}))}(t).replaceAll("\n","<br />")}function Po(t){return new Promise(((e,n)=>{requestAnimationFrame((()=>{if(t.ownerDocument!==document){const n=t.ownerDocument.createRange();n.selectNodeContents(t);const o=t.ownerDocument.getSelection();o.removeAllRanges(),o.addRange(n),e(o)}else{const n=document.createRange();n.selectNodeContents(t);const o=window.getSelection();o.removeAllRanges(),o.addRange(n),e(o)}}))}))}async function jo(t,e,n){return n?window.getSelection():(t.focus(),await Po(t)),new Promise(((n,o)=>setTimeout((()=>{const i=new DataTransfer;i.setData("text/plain",e),t.dispatchEvent(new ClipboardEvent("paste",{clipboardData:i,bubbles:!0,cancelable:!0})),i.clearData(),setTimeout((()=>{if(Ao(t.innerText,e))n();else{const i=document.createEvent("TextEvent");i.initTextEvent("textInput",!0,!0,window,e,0,""),t.dispatchEvent(i),setTimeout((()=>{Ao(t.innerText,e)?n():(t.value&&t.select(),document.execCommand("insertText",!1,e),setTimeout((()=>{(t.value||""===t.value)&&(t.value=e),Ao(t.innerText,e)||Ao(t.value,e)?n():(sendAction({action:"dlTranslatedInputTextNotSet",payload:window.location.hostname}),o("error_message_technical_issue"))}),20))}),10)}}),10)}),10)))}const Bo=(t,e)=>{const n=new KeyboardEvent(t,{bubbles:!0,cancelable:!0,keyCode:8,which:8,location:0,key:"Backspace"});return e.dispatchEvent(n)},qo=(t,e)=>{const n=new MouseEvent(t,{bubbles:!0,cancelable:!1});return e.dispatchEvent(n)},Ho=(t,e=0,n=t.nodeValue.length)=>{const o=Math.max(e,0),i=Math.min(n,t.nodeValue.length),s=window.getSelection();s.removeAllRanges();const r=new Range;r.setStart(t,o),r.setEnd(t,i),s.addRange(r)};const Uo=(t=25,e=null)=>new Promise((n=>setTimeout((()=>n(e)),t)));const zo=t=>t instanceof HTMLTextAreaElement||t instanceof HTMLInputElement&&["text","search"].includes(t.type),Wo=t=>t.selectionStart<t.selectionEnd,Fo=async(t,e,n)=>{if(zo(t)){if(Wo(t)||((t,{start:e,end:n})=>{t.selectionStart=e,t.selectionEnd=n})(t,{start:0,end:t.value.length}),!document.execCommand("insertText",!1,e)){const n=t.value.substring(0,t.selectionStart)+e+t.value.substring(t.selectionEnd);t.value=n}}else{if(n)return await jo(t,e,n);{if(function(t){if(t.hasAttribute("data-slate-editor")||"trix-editor"==t.nodeName.toLowerCase())return!0;if(t.closest("[data-app-name='io.ox/office/text']")&&t.closest(".DraftEditor-editorContainer"))return!0;if((location.host.includes("facebook.com")||location.host.includes("messenger.com"))&&t.hasAttribute("contenteditable")&&(t.hasAttribute("aria-describedBy")||"textfield"===t.getAttribute("role")))return!0;if(t.querySelector("div[data-contents=true]")&&t.classList.contains("notranslate"))return!0;const e=["mce-content-body","mceContentBody","ProseMirror","editor-rich-text__editable","block-editor-rich-text__editable","CodeMirror-code"];for(const n of e)if(t.classList.contains(n))return!0;return!1}(t))return await jo(t,e,n);(t=>{qo("mousedown",t);const e=window.getSelection();e.removeAllRanges();const n=new Range;n.setStart(t,0),n.collapse(!1),e.addRange(n),qo("mouseup",t)})(t);const o=function(t,e){var n=[],o=/^\s*$/;return function t(i){if(3==i.nodeType)!e&&o.test(i.nodeValue)||n.push(i);else for(var s=0,r=i.childNodes.length;s<r;++s)t(i.childNodes[s])}(t),n}(t,!1);for(let e=o.length-1;e>=0;e--){if(qo("mousedown",t),Ho(o[e],0,o[e].textContent.length),qo("mouseup",t),Bo("keydown",t)){const e=new window.InputEvent("beforeinput",{bubbles:!0,cancelable:!0,inputType:"deleteContent"});t.dispatchEvent(e)&&document.execCommand("delete",!1)}await Uo(),Bo("keyup",t)}await Uo(50);const i=new window.InputEvent("beforeinput",{bubbles:!0,cancelable:!0,inputType:"insertText",data:e});t.dispatchEvent(i)&&document.execCommand("insertText",!1,e)}}};async function Go(t){let e,n={};if(zo(t)){const o=t.value;Wo(t)&&(n.isSubtextSelected=!0),e=n.isSubtextSelected?o.substring(t.selectionStart,t.selectionEnd):o}else n=await async function(t){let e=window;if(t.ownerDocument!==document){const n=t?.ownerDocument?.defaultView?.frameElement?.contentWindow;n&&(e=n)}const n=e.getSelection(),o=n&&n.baseNode&&"#text"==n.baseNode.nodeName&&"Range"==n.type&&t.contains(n.baseNode);let i;return o||(t.focus(),await Po(t)),i=t.ownerDocument!==document?t.ownerDocument.getSelection().toString():e.getSelection().toString(),{isSubtextSelected:o,text:i}}(t),e=n.text;if(!e)return;const o=await T({action:"dlRequestInputTranslation",payload:{requests:[{text:e}],domainName:window.location.hostname}});await Fo(t,o[0].text,n.isSubtextSelected)}function Yo(t){let e;return{c(){e=it("div"),dt(e,"class","loader svelte-c65fyl"),wt(e,"small",t[0])},m(t,n){et(t,e,n)},p(t,[n]){1&n&&wt(e,"small",t[0])},i:N,o:N,d(t){t&&nt(e)}}}function Vo(t,e,n){let{small:o=!1}=e;return t.$$set=t=>{"small"in t&&n(0,o=t.small)},[o]}class Jo extends ce{constructor(t){super(),le(this,t,Vo,Yo,I,{small:0})}}function Qo(t){let e,n,o,i,s,r,a,l,c,u;const d=t[8].default,p=B(d,t,t[7],null);return{c(){e=it("div"),n=it("div"),o=it("button"),i=rt(),s=it("div"),p&&p.c(),dt(o,"type","button"),dt(o,"class","close-icon svelte-1o6nui5"),dt(n,"class","header svelte-1o6nui5"),dt(s,"class","content svelte-1o6nui5"),dt(e,"style",r=`z-index: ${w.deepl_inline_ui.z_index}; ${t[3]}`),dt(e,"class","container svelte-1o6nui5"),Ht((()=>t[10].call(e))),wt(e,"isRelativelyAligned",t[0])},m(r,d){et(r,e,d),K(e,n),K(n,o),K(e,i),K(e,s),p&&p.m(s,null),a=_t(e,t[10].bind(e)),l=!0,c||(u=lt(o,"click",t[9]),c=!0)},p(t,[n]){p&&p.p&&(!l||128&n)&&U(p,d,t,t[7],l?H(d,t[7],n,null):z(t[7]),null),(!l||8&n&&r!==(r=`z-index: ${w.deepl_inline_ui.z_index}; ${t[3]}`))&&dt(e,"style",r),1&n&&wt(e,"isRelativelyAligned",t[0])},i(t){l||(Zt(p,t),l=!0)},o(t){te(p,t),l=!1},d(t){t&&nt(e),p&&p.d(t),a(),c=!1,u()}}}function Xo(t,e,n){let o,{$$slots:i={},$$scope:s}=e;const r=kt();let a,l,{offsetTop:c}=e,{isBottomPage:u}=e,{isRelativelyAligned:d}=e;return t.$$set=t=>{"offsetTop"in t&&n(5,c=t.offsetTop),"isBottomPage"in t&&n(6,u=t.isBottomPage),"isRelativelyAligned"in t&&n(0,d=t.isRelativelyAligned),"$$scope"in t&&n(7,s=t.$$scope)},t.$$.update=()=>{6&t.$$.dirty&&r("resize",{offsetHeight:a,offsetWidth:l}),99&t.$$.dirty&&n(3,o=u?d?`margin-top: -${a+5}px;`:`top: -${a+5}px; margin-bottom: ${c}px;`:`margin-top: ${c}px;`)},[d,a,l,o,r,c,u,s,i,()=>r("close"),function(){a=this.offsetHeight,l=this.offsetWidth,n(1,a),n(2,l)}]}class Ko extends ce{constructor(t){super(),le(this,t,Xo,Qo,I,{offsetTop:5,isBottomPage:6,isRelativelyAligned:0})}}function Zo(t){let e,n;return{c(){e=it("div"),n=st(t[0]),dt(e,"class","error-msg svelte-j5yzzf")},m(t,o){et(t,e,o),K(e,n)},p(t,[e]){1&e&&pt(n,t[0])},i:N,o:N,d(t){t&&nt(e)}}}function ti(t,e,n){let o,{errorMessage:i}=e;return t.$$set=t=>{"errorMessage"in t&&n(1,i=t.errorMessage)},t.$$.update=()=>{2&t.$$.dirty&&n(0,o="object"==typeof i?JSON.stringify(i):i)},[o,i]}class ei extends ce{constructor(t){super(),le(this,t,ti,Zo,I,{errorMessage:1})}}function ni(t){let e,n;return e=new ei({props:{errorMessage:t[3]}}),{c(){ie(e.$$.fragment)},m(t,o){se(e,t,o),n=!0},p(t,n){const o={};8&n&&(o.errorMessage=t[3]),e.$set(o)},i(t){n||(Zt(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){re(e,t)}}}function oi(t){let e,n;return e=new Ko({props:{offsetTop:t[0],isBottomPage:t[1],isRelativelyAligned:t[2],$$slots:{default:[ni]},$$scope:{ctx:t}}}),e.$on("close",t[4]),{c(){ie(e.$$.fragment)},m(t,o){se(e,t,o),n=!0},p(t,[n]){const o={};1&n&&(o.offsetTop=t[0]),2&n&&(o.isBottomPage=t[1]),4&n&&(o.isRelativelyAligned=t[2]),40&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(Zt(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){re(e,t)}}}function ii(t,e,n){let{offsetTop:o}=e,{isBottomPage:i}=e,{isRelativelyAligned:s}=e,{errorMessage:r}=e;return t.$$set=t=>{"offsetTop"in t&&n(0,o=t.offsetTop),"isBottomPage"in t&&n(1,i=t.isBottomPage),"isRelativelyAligned"in t&&n(2,s=t.isRelativelyAligned),"errorMessage"in t&&n(3,r=t.errorMessage)},[o,i,s,r,function(e){Rt.call(this,t,e)}]}class si extends ce{constructor(t){super(),le(this,t,ii,oi,I,{offsetTop:0,isBottomPage:1,isRelativelyAligned:2,errorMessage:3})}}function ri(t){let e;return{c(){e=it("div"),dt(e,"class","dl-logo svelte-1utxgjf"),dt(e,"data-qa","deepl-input-icon")},m(t,n){et(t,e,n)},i:N,o:N,d(t){t&&nt(e)}}}function ai(t){let e,n;return e=new Jo({props:{small:!0}}),{c(){ie(e.$$.fragment)},m(t,o){se(e,t,o),n=!0},i(t){n||(Zt(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){re(e,t)}}}function li(t){let e,n;return e=new si({props:{isBottomPage:t[2],offsetTop:20,isRelativelyAligned:!0,errorMessage:chrome.i18n.getMessage(t[4])}}),e.$on("close",t[9]),{c(){ie(e.$$.fragment)},m(t,o){se(e,t,o),n=!0},p(t,n){const o={};4&n&&(o.isBottomPage=t[2]),16&n&&(o.errorMessage=chrome.i18n.getMessage(t[4])),e.$set(o)},i(t){n||(Zt(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){re(e,t)}}}function ci(t){let e,n,o,i,s,r,a,l,c,u,d;const p=[ai,ri],h=[];function f(t,e){return t[3]?0:1}o=f(t),i=h[o]=p[o](t);let m=t[4]&&li(t);return{c(){e=it("div"),n=it("div"),i.c(),a=rt(),m&&m.c(),l=at(),dt(n,"class",s=W(t[1]?"icon-container small":"icon-container")+" svelte-1utxgjf"),dt(e,"style",t[5]),dt(e,"class",r=W(t[1]?"container small":"container")+" svelte-1utxgjf")},m(i,s){et(i,e,s),K(e,n),h[o].m(n,null),et(i,a,s),m&&m.m(i,s),et(i,l,s),c=!0,u||(d=[lt(n,"mouseover",t[8]),lt(n,"focus",t[7])],u=!0)},p(t,[a]){let u=o;o=f(t),o!==u&&(Xt(),te(h[u],1,1,(()=>{h[u]=null})),Kt(),i=h[o],i||(i=h[o]=p[o](t),i.c()),Zt(i,1),i.m(n,null)),(!c||2&a&&s!==(s=W(t[1]?"icon-container small":"icon-container")+" svelte-1utxgjf"))&&dt(n,"class",s),(!c||2&a&&r!==(r=W(t[1]?"container small":"container")+" svelte-1utxgjf"))&&dt(e,"class",r),t[4]?m?(m.p(t,a),16&a&&Zt(m,1)):(m=li(t),m.c(),Zt(m,1),m.m(l.parentNode,l)):m&&(Xt(),te(m,1,1,(()=>{m=null})),Kt())},i(t){c||(Zt(i),Zt(m),c=!0)},o(t){te(i),te(m),c=!1},d(t){t&&nt(e),h[o].d(),t&&nt(a),m&&m.d(t),t&&nt(l),u=!1,R(d)}}}function ui(t,e,n){let o,{openPopup:i}=e,{isSmall:s=!1}=e,{element:r}=e,{isBottomPage:a}=e,l=!1;const c=Ro(window.location.host,Oo.svelteComponent);async function u(t,e,i){if("dlTriggerTranslationShortcut"===t.action){if(document.activeElement!==r)return;try{T({action:"dlTrackUseOfShortcut",payload:{shortcutType:x,location:$}})}catch(t){}n(3,l=!0);try{await Go(r)}catch(t){n(4,o=t)}n(3,l=!1),i()}}chrome.runtime.onMessage.addListener(u),Nt((()=>chrome.runtime.onMessage.removeListener(u)));return t.$$set=t=>{"openPopup"in t&&n(0,i=t.openPopup),"isSmall"in t&&n(1,s=t.isSmall),"element"in t&&n(6,r=t.element),"isBottomPage"in t&&n(2,a=t.isBottomPage)},[i,s,a,l,o,c,r,function(e){Rt.call(this,t,e)},()=>i(),()=>{n(4,o="")}]}class di extends ce{constructor(t){super(),le(this,t,ui,ci,I,{openPopup:0,isSmall:1,element:6,isBottomPage:2})}}class pi extends HTMLElement{constructor(){if(super(),this.shadowRoot)return;this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.resizeObserver,this.mutationObserver,this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(t),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this),this.calcSizeAndPosition=this.calcSizeAndPosition.bind(this),this.shadowRoot.addEventListener("mousedown",(t=>{t.stopPropagation(),t.stopImmediatePropagation()}))}calcSizeAndPosition(t,e,n,o){const i=t.getBoundingClientRect().left-this.shadowContainer.getBoundingClientRect().left,s=t.getBoundingClientRect().top-this.shadowContainer.getBoundingClientRect().top;if(e.style.cssText=`box-sizing: content-box;top: ${s}px;left: ${i}px;width: ${t.clientWidth}px;height: ${t.clientHeight}px;position: relative;pointer-events: none;overflow: hidden;border: 0px;border-radius: 0px;padding: 0px;margin: 0px;`,t.getBoundingClientRect().height>49){const t="position: absolute; top: 8px; right: 8px; pointer-events: all;";return n.style.cssText=o?`${t} ${o}`:t,!1}{const t="position: absolute; top: 1px; right: 1px; pointer-events: all;";return n.style.cssText=o?`${t} ${o}`:t,(document.getElementsByTagName("grammarly-extension").length>0||document.getElementsByTagName("lt-toolbar").length>0)&&(n.style.right="30px"),!0}}createDOM(t,e,n){const o=Ro(window.location.host,Oo.webComponent,t);if(/display: none/gm.test(o)||/display:none/gm.test(o))return;this.shadowContainer.style.cssText="position: absolute; top: 0px; left: 0px; pointer-events: none;";const i=document.createElement("div"),s=document.createElement("div");i.appendChild(s),this.shadowContainer.appendChild(i),t.parentNode.appendChild(this);const r=this.calcSizeAndPosition(t,i,s,o),a=(window.innerHeight||document.documentElement.clientHeight)<t.getBoundingClientRect().bottom+250;return this.mainComponent=new di({target:s,props:{openPopup:()=>{e.createDOM(s,t,n,r)},isSmall:r,isBottomPage:a,element:t}}),this.resizeObserver&&this.resizeObserver.disconnect(),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver=new ResizeObserver((()=>{window.requestAnimationFrame((()=>{e.cleanupDOM(),co(t)?(this.shadowContainer.style.display="block",this.calcSizeAndPosition(t,i,s,o)):this.shadowContainer.style.display="none"}))})),this.mutationObserver=new MutationObserver((()=>{co(t)?this.shadowContainer.style.display="block":this.shadowContainer.style.display="none"})),"none"!==s.style.display&&(this.resizeObserver.observe(t),this.mutationObserver.observe(t,{attributes:!0})),{resize:this.resizeObserver,mutation:this.mutationObserver}}cleanupDOM(){this.shadowContainer.remove(),this.shadowContainer=document.createElement("div"),this.mutationObserver.disconnect(),this.resizeObserver.disconnect(),this.shadow.appendChild(this.shadowContainer),this.mainComponent&&this.mainComponent.$destroy()}}function hi(t){const e=t-1;return e*e*e+1}function fi(t,{delay:e=0,duration:n=400,easing:o=hi,x:i=0,y:s=0,opacity:r=0}={}){const a=getComputedStyle(t),l=+a.opacity,c="none"===a.transform?"":a.transform,u=l*(1-r);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${c} translate(${(1-t)*i}px, ${(1-t)*s}px);\n\t\t\topacity: ${l-u*e}`}}window.customElements.define("deepl-inline-translate",pi);const mi="DOCS_GOOGLE_COM_FEEDBACK_FORM",gi="DEEPL_COM_PRO",vi="DEEPL_COM_TRANSLATOR",_i="DEEPL_COM_HOMEPAGE",wi="SHORTCUT_SETTINGS";function yi(t){let e,n,o;return{c(){e=it("div"),dt(e,"class","container svelte-1dicgbw")},m(i,s){et(i,e,s),e.innerHTML=t[1],n||(o=lt(e,"click",t[0]),n=!0)},p:N,i:N,o:N,d(t){t&&nt(e),n=!1,o()}}}function bi(t){return[function(){T({action:"dlExternalURLRedirect",payload:{destination:wi}}),T({action:"dlTrackUiAction",payload:{uiAction:E}})},chrome.i18n.getMessage("notification_keyboard_shortcut_hint",`<span style="color: #006494; text-decoration: underline;">${chrome.i18n.getMessage("notification_keyboard_shortcut_hint_placeholder")}</span>`)]}class $i extends ce{constructor(t){super(),le(this,t,bi,yi,I,{})}}function xi(t){let e,n,o,i,s,r,a,l,c,u,d;var p=t[3];function h(t){return{props:{options:t[0]}}}return p&&(r=new p(h(t))),{c(){e=it("div"),n=it("div"),o=it("button"),i=rt(),s=it("div"),r&&ie(r.$$.fragment),dt(o,"class","dl-close-icon svelte-1agplds"),dt(n,"class","header"),dt(s,"class","body svelte-1agplds"),dt(e,"class","container svelte-1agplds")},m(a,l){et(a,e,l),K(e,n),K(n,o),K(e,i),K(e,s),r&&se(r,s,null),c=!0,u||(d=lt(o,"click",(function(){A(t[1])&&t[1].apply(this,arguments)})),u=!0)},p(e,n){t=e;const o={};if(1&n&&(o.options=t[0]),p!==(p=t[3])){if(r){Xt();const t=r;te(t.$$.fragment,1,0,(()=>{re(t,1)})),Kt()}p?(r=new p(h(t)),ie(r.$$.fragment),Zt(r.$$.fragment,1),se(r,s,null)):r=null}else p&&r.$set(o)},i(t){c||(r&&Zt(r.$$.fragment,t),Ht((()=>{l&&l.end(1),a=ne(e,fi,{x:100,duration:1e3}),a.start()})),c=!0)},o(t){r&&te(r.$$.fragment,t),a&&a.invalidate(),l=function(t,e,n){let o,i=e(t,n),s=!0;const r=Qt;function a(){const{delay:e=0,duration:n=300,easing:a=k,tick:l=N,css:c}=i||ee;c&&(o=Tt(t,1,0,n,e,a,c));const u=Y()+e,d=u+n;Ht((()=>Vt(t,!1,"start"))),X((e=>{if(s){if(e>=d)return l(0,1),Vt(t,!1,"end"),--r.r||R(r.c),!1;if(e>=u){const t=a((e-u)/n);l(1-t,t)}}return s}))}return r.r+=1,A(i)?Yt().then((()=>{i=i(),a()})):a(),{end(e){e&&i.tick&&i.tick(1,0),s&&(o&&St(t,o),s=!1)}}}(e,fi,{x:100,duration:1e3}),c=!1},d(t){t&&nt(e),r&&re(r),t&&l&&l.end(),u=!1,d()}}}function Ei(t){let e,n,o=t[2]&&xi(t);return{c(){o&&o.c(),e=at()},m(t,i){o&&o.m(t,i),et(t,e,i),n=!0},p(t,[n]){t[2]?o?(o.p(t,n),4&n&&Zt(o,1)):(o=xi(t),o.c(),Zt(o,1),o.m(e.parentNode,e)):o&&(Xt(),te(o,1,1,(()=>{o=null})),Kt())},i(t){n||(Zt(o),n=!0)},o(t){te(o),n=!1},d(t){o&&o.d(t),t&&nt(e)}}}function Ti(t,e,n){let o,{type:i}=e,{options:s}=e,{close:r}=e,a=!1;const l={[y]:$i};return Ot((()=>{setTimeout((()=>n(2,a=!0)),100),setTimeout((()=>n(2,a=!1)),10100),setTimeout((()=>r()),11100)})),t.$$set=t=>{"type"in t&&n(4,i=t.type),"options"in t&&n(0,s=t.options),"close"in t&&n(1,r=t.close)},t.$$.update=()=>{16&t.$$.dirty&&n(3,o=l[i])},[s,r,a,o,i]}class Si extends ce{constructor(t){super(),le(this,t,Ti,Ei,I,{type:4,options:0,close:1})}}class Ci extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(t),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(t=>{t.stopPropagation(),t.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this)}createDOM(t,e){this.shadowContainer.style.cssText=`position: fixed; top: 20px; right: 20px; z-index: ${w.deepl_inline_ui.z_index}`,this.mainComponent=new Si({target:this.shadowContainer,props:{type:t,options:e,close:this.cleanupDOM}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy(),this.remove()}}window.customElements.define("deepl-notification",Ci);const Li=[];function Oi(e,n){try{if(e.dataset&&"true"===e.dataset.dlInputTranslation||e.dataset&&"true"===e.dataset.dlNoInputTranslation)return;if("true"===e.contentEditable||"TEXTAREA"===e.nodeName&&e.rows>1){if("none"===window.getComputedStyle(e).display)return;if(t.websiteData.HAS_ALREADY_SENT_INPUT_INJECTION_EVENT||(T({action:"dlTrackInputTranslationInjection",payload:window.location.host}),me.update({HAS_ALREADY_SENT_INPUT_INJECTION_EVENT:!0})),!function(t){return t.getBoundingClientRect().width>0&&t.getBoundingClientRect().height>0}(e))return;e.dataset.dlInputTranslation="true";const o=document.createElement("deepl-inline-translate");o.style.zIndex="1999999999";const i=document.createElement("deepl-inline-popup");i.style.zIndex="19999999999",document.documentElement.appendChild(i);const s=o.createDOM(e,i,n);return s&&Li.push(s),void O((()=>{o.cleanupDOM(),o.remove(),i.cleanupDOM(),i.remove()}))}for(var o=0;o<e.childNodes.length;++o)Oi(e.childNodes[o],n)}catch(t){fe()&&console.error(t),ao(t.message)}}function Ni(){document.dispatchEvent(new CustomEvent("deepl-clean-up-dom"));const t=t=>{t.target.ownerDocument!==document?Oi(t.target,t.target.ownerDocument.getBoundingClientRect()):Oi(t.target)},e=ve.subscribe((e=>{null!=e?.enableInputTranslation&&0==e.enableInputTranslation?(document.removeEventListener("focusin",t),ki()):null!=e?.enableInputTranslation&&e.enableInputTranslation&&document.addEventListener("focusin",t)}));let n=new MutationObserver((t=>{for(let e of t)for(let t of e.addedNodes)"IFRAME"===t.nodeName&&Oi(t.contentWindow.document,t)}));n.observe(document.body,{childList:!0,subtree:!0}),O((()=>{e(),document.removeEventListener("focusin",t),n.disconnect(),ki()}))}function ki(){Mi("deepl-inline-translate"),Mi("deepl-inline-popup"),document.querySelectorAll("[data-dl-input-translation]").forEach((function(t){t.removeAttribute("data-dl-input-translation")}))}function Mi(t){const e=document.getElementsByTagName(t);if(e.length)for(var n=e.length-1;n>=0;--n)e[n].cleanupDOM(),e[n].remove()}function Di(e,n,o){switch(e.action){case"dlTranslate":e.sourceLang&&So(e.sourceLang,p),o();break;case"dlShowOriginal":me.update({translationState:l}),o();break;case"dlDefaultPopUpMounting":t.websiteData.translationState===s&&vo(),wo(),o();break;case"dlTabChanged":setTimeout(Co,500),o();break;case"dlTranslateDOMInline":Co().then((()=>Eo(e))),o();break;case"dlTranslateInline":Co().then((()=>To(e))),o();break;case"dlGetWebsiteData":Co().then((()=>o(t.websiteData)));break;case"dlShowNotification":xo(e.payload.type,e.payload.options),o()}return!0}window.onerror=function(t){/ResizeObserver/gm.test(t)&&Li.forEach((t=>t.resize.disconnect()))},document.dispatchEvent(new CustomEvent("deepl-reset-event"));try{chrome.runtime.onMessage.addListener(Di),O((()=>{me.update({translationState:l}),ge(),chrome.runtime.onMessage.removeListener(Di)}))}catch(t){console.error(t),ao(t.message)}try{Co(),Ri=window.location.host,Ai=window.location.href,function(t){const e=v.filter((e=>new RegExp(e).exec(t)));return e&&e.length>0}(Ri)||function(t){const e=_.filter((e=>new RegExp(e).exec(t)));return e&&e.length>0}(Ai)||Ni(),$o()}catch(t){console.error(t),ao(t.message)}var Ri,Ai;function Ii(t){let e,n;const o=t[3].default,i=B(o,t,t[2],null);return{c(){e=it("div"),i&&i.c(),dt(e,"data-tooltip",t[0]),dt(e,"style",`z-index: ${t[1].z_index}`),dt(e,"class","svelte-117aycj")},m(t,o){et(t,e,o),i&&i.m(e,null),n=!0},p(t,[s]){i&&i.p&&(!n||4&s)&&U(i,o,t,t[2],n?H(o,t[2],s,null):z(t[2]),null),(!n||1&s)&&dt(e,"data-tooltip",t[0])},i(t){n||(Zt(i,t),n=!0)},o(t){te(i,t),n=!1},d(t){t&&nt(e),i&&i.d(t)}}}function Pi(t,e,n){let{$$slots:o={},$$scope:i}=e,{tooltip:s=!1}=e;const{deepl_inline_ui:r}=w;return t.$$set=t=>{"tooltip"in t&&n(0,s=t.tooltip),"$$scope"in t&&n(2,i=t.$$scope)},[s,r,i,o]}class ji extends ce{constructor(t){super(),le(this,t,Pi,Ii,I,{tooltip:0})}}function Bi(t){let e,n,o;return{c(){e=it("div"),dt(e,"class","container svelte-74hplf"),dt(e,"data-qa","deepl-inline-translate-trigger")},m(i,s){et(i,e,s),n||(o=[lt(e,"click",ut(ct(t[1]))),lt(e,"mouseup",ut(ct(t[3]))),lt(e,"mousedown",ut(ct(t[4])))],n=!0)},p:N,d(t){t&&nt(e),n=!1,R(o)}}}function qi(t){let e,n;return e=new ji({props:{tooltip:t[0],$$slots:{default:[Bi]},$$scope:{ctx:t}}}),{c(){ie(e.$$.fragment)},m(t,o){se(e,t,o),n=!0},p(t,[n]){const o={};1&n&&(o.tooltip=t[0]),64&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(Zt(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){re(e,t)}}}function Hi(t,e,n){let o,i="";function s(){T({action:"dlTriggerTranslateInline"}),i||S(y)}async function r(t,e,n){if("dlTriggerTranslationShortcut"===t.action)s(),T({action:"dlTrackUseOfShortcut",payload:{shortcutType:x,location:b}}),n()}return T({action:"dlCheckCommandShortcuts"}).then((t=>n(2,i=t?t.filter((t=>t.name==x))[0].shortcut:""))),chrome.runtime.onMessage.addListener(r),Nt((()=>{chrome.runtime.onMessage.removeListener(r)})),t.$$.update=()=>{4&t.$$.dirty&&n(0,o=i?`${chrome.i18n.getMessage("context_menus_translate_section")} (${i})`:chrome.i18n.getMessage("context_menus_translate_section"))},[o,s,i,function(e){Rt.call(this,t,e)},function(e){Rt.call(this,t,e)}]}class Ui extends ce{constructor(t){super(),le(this,t,Hi,qi,I,{})}}class zi extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.container=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(t),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.addChangeEvents=this.addChangeEvents.bind(this),this.removeChangeEvents=this.removeChangeEvents.bind(this),this.repositionContainer=this.repositionContainer.bind(this),this.shadowRoot.addEventListener("mouseup",(t=>{t.stopPropagation(),t.stopImmediatePropagation()})),this.shadowRoot.addEventListener("mousedown",(t=>{t.stopPropagation(),t.stopImmediatePropagation()}))}createDOM(){this.shadowContainer&&this.shadowContainer.childElementCount>0&&this.cleanupDOM(),this.shadowContainer.appendChild(this.container),this.repositionContainer(),this.mainComponent=new Ui({target:this.container}),this.addChangeEvents()}repositionContainer(){const{deepl_inline_ui:t}=w,e=lo(),n=e?.selectedTop,o=window.innerHeight-e?.selectedBottom;let i=`position: absolute; top: 0px; left: 0px; width: 100%; z-index: ${t.z_index}`,s=`position: absolute; top: ${e.y}px; left: ${e.x}px; z-index: ${t.z_index};`;o>25?this.container.style.top=`${e.y}px`:n>25&&(this.container.style.top=e.y-e.height-document.documentElement.clientHeight+"px"),this.shadowContainer.style.cssText=i,this.container.style.cssText=s}addChangeEvents(){window.addEventListener("scroll",this.repositionContainer),window.addEventListener("resize",this.repositionContainer)}removeChangeEvents(){window.removeEventListener("scroll",this.repositionContainer),window.removeEventListener("resize",this.repositionContainer)}cleanupDOM(){this.container.remove(),this.shadowContainer.remove(),this.shadowContainer=document.createElement("div"),this.container=document.createElement("div"),this.shadow.appendChild(this.shadowContainer),this.mainComponent&&this.mainComponent.$destroy(),this.removeChangeEvents()}}function Wi(t){let e,n,o,i,s;const r=t[4].default,a=B(r,t,t[3],null);return{c(){e=it("button"),a&&a.c(),dt(e,"type","button"),dt(e,"class",n=W(`${t[0]} ${t[1]?"disabled":""}`)+" svelte-1nrzmi2"),e.disabled=t[1],dt(e,"data-qa",t[2])},m(n,r){et(n,e,r),a&&a.m(e,null),o=!0,i||(s=[lt(e,"click",t[5]),lt(e,"mousedown",ut(ct(t[6])))],i=!0)},p(t,[i]){a&&a.p&&(!o||8&i)&&U(a,r,t,t[3],o?H(r,t[3],i,null):z(t[3]),null),(!o||3&i&&n!==(n=W(`${t[0]} ${t[1]?"disabled":""}`)+" svelte-1nrzmi2"))&&dt(e,"class",n),(!o||2&i)&&(e.disabled=t[1]),(!o||4&i)&&dt(e,"data-qa",t[2])},i(t){o||(Zt(a,t),o=!0)},o(t){te(a,t),o=!1},d(t){t&&nt(e),a&&a.d(t),i=!1,R(s)}}}function Fi(t,e,n){let{$$slots:o={},$$scope:i}=e,{className:s="button-primary"}=e,{disabled:r=!1}=e,{dataQa:a="dl-button"}=e;return t.$$set=t=>{"className"in t&&n(0,s=t.className),"disabled"in t&&n(1,r=t.disabled),"dataQa"in t&&n(2,a=t.dataQa),"$$scope"in t&&n(3,i=t.$$scope)},[s,r,a,i,o,function(e){Rt.call(this,t,e)},function(e){Rt.call(this,t,e)}]}window.customElements.define("deepl-inline-trigger",zi);class Gi extends ce{constructor(t){super(),le(this,t,Fi,Wi,I,{className:0,disabled:1,dataQa:2})}}function Yi(){return!!chrome&&!!chrome.tabs}function Vi(t,e,n){const o=t.slice();return o[26]=e[n],o}function Ji(t){let e,n,o,i,s,r,a,l=t[26].label+"";function c(){return t[18](t[26])}return{c(){e=it("li"),n=st(l),o=rt(),dt(e,"role","option"),dt(e,"data-option-value",i=t[26].value),dt(e,"aria-selected",s=t[0]===t[26]),dt(e,"class","svelte-12dw8b9"),wt(e,"selected",t[0]===t[26])},m(i,s){et(i,e,s),K(e,n),K(e,o),r||(a=[lt(e,"click",c),lt(e,"mousedown",ut(ct(t[15])))],r=!0)},p(o,r){t=o,8&r&&l!==(l=t[26].label+"")&&pt(n,l),8&r&&i!==(i=t[26].value)&&dt(e,"data-option-value",i),9&r&&s!==(s=t[0]===t[26])&&dt(e,"aria-selected",s),9&r&&wt(e,"selected",t[0]===t[26])},d(t){t&&nt(e),r=!1,R(a)}}}function Qi(t){let e,n,o,i,s,r,a,l,c,u=(t[0]?t[0].label:t[4])+"",d=t[3],p=[];for(let e=0;e<d.length;e+=1)p[e]=Ji(Vi(t,d,e));return{c(){e=it("div"),n=it("button"),o=st(u),i=rt(),s=it("ul");for(let t=0;t<p.length;t+=1)p[t].c();dt(n,"aria-haspopup","listbox"),dt(n,"id","dropdown_button"),dt(n,"aria-labelledby","dropdown_option dropdown_button"),dt(n,"aria-expanded",t[1]),dt(n,"data-qa",t[6]),dt(n,"class","svelte-12dw8b9"),dt(s,"id","dropdown_list"),dt(s,"class","dropdown__list hidden svelte-12dw8b9"),dt(s,"role","listbox"),dt(s,"aria-labelledby","dropdown_option"),dt(s,"tabindex","-1"),ft(s,"height",t[10].height),ft(s,"top",t[10].top),dt(s,"data-qa",t[7]),wt(s,"hidden",!1===t[1]),dt(e,"class",r=W(`dropdown__wrapper ${t[5]}`)+" svelte-12dw8b9"),dt(e,"style",t[11]),Ht((()=>t[20].call(e))),wt(e,"disabled",t[2])},m(r,u){et(r,e,u),K(e,n),K(n,o),t[17](n),K(e,i),K(e,s);for(let t=0;t<p.length;t+=1)p[t].m(s,null);a=_t(e,t[20].bind(e)),l||(c=[lt(n,"click",t[12]),lt(n,"mousedown",ut(ct(t[16]))),F(L.call(null,e,!0)),lt(e,"click_outside",t[19])],l=!0)},p(t,[i]){if(17&i&&u!==(u=(t[0]?t[0].label:t[4])+"")&&pt(o,u),2&i&&dt(n,"aria-expanded",t[1]),64&i&&dt(n,"data-qa",t[6]),11&i){let e;for(d=t[3],e=0;e<d.length;e+=1){const n=Vi(t,d,e);p[e]?p[e].p(n,i):(p[e]=Ji(n),p[e].c(),p[e].m(s,null))}for(;e<p.length;e+=1)p[e].d(1);p.length=d.length}1024&i&&ft(s,"height",t[10].height),1024&i&&ft(s,"top",t[10].top),128&i&&dt(s,"data-qa",t[7]),2&i&&wt(s,"hidden",!1===t[1]),32&i&&r!==(r=W(`dropdown__wrapper ${t[5]}`)+" svelte-12dw8b9")&&dt(e,"class",r),2048&i&&dt(e,"style",t[11]),36&i&&wt(e,"disabled",t[2])},i:N,o:N,d(n){n&&nt(e),t[17](null),ot(p,n),a(),l=!1,R(c)}}}const Xi=300;function Ki(t,e,n){let o,{isOpen:i=!1}=e,{disabled:s=!1}=e,{items:r=[]}=e,{placeholder:a=""}=e,{customClass:l=""}=e,{selectedOption:c}=e,{defaultOption:u}=e,{dataQaButton:d="dl-dropdown-button"}=e,{dataQaList:p="dl-dropdown-list"}=e,h=0,f={},m={},g={},v="visibility: hidden; opacity:0; height:0;";const _=kt();function w(){f.spaceAbove=Math.abs(o.getBoundingClientRect().top),f.spaceBelow=Math.abs(window.innerHeight-o.getBoundingClientRect().bottom)}u&&(c=u),Ot((()=>{setTimeout((()=>{n(11,v="")}),100)}));return t.$$set=t=>{"isOpen"in t&&n(1,i=t.isOpen),"disabled"in t&&n(2,s=t.disabled),"items"in t&&n(3,r=t.items),"placeholder"in t&&n(4,a=t.placeholder),"customClass"in t&&n(5,l=t.customClass),"selectedOption"in t&&n(0,c=t.selectedOption),"defaultOption"in t&&n(13,u=t.defaultOption),"dataQaButton"in t&&n(6,d=t.dataQaButton),"dataQaList"in t&&n(7,p=t.dataQaList)},t.$$.update=()=>{16641&t.$$.dirty&&(c&&g?.value!==c?.value&&(n(14,g=c),_("valueselected",{selectedOption:c})),h&&w())},[c,i,s,r,a,l,d,p,h,o,m,v,function(){!function(){if(w(),n(10,m.top="auto",m),n(10,m.height="300px",m),f.spaceBelow>f.spaceAbove)f.spaceBelow<=Xi&&n(10,m.height=Math.ceil(.8*f.spaceBelow)+"px",m);else{let t=Xi;f.spaceAbove<=Xi&&(t=Math.ceil(.8*f.spaceAbove)),n(10,m.height=`${t}px`,m),n(10,m.top="-"+(t+2)+"px",m)}}(),n(1,i=!i),function(){let t=o.getRootNode().querySelector("ul li[aria-selected=true]");setTimeout((()=>{t?.scrollIntoView({block:"nearest"})}),0)}()},u,g,function(e){Rt.call(this,t,e)},function(e){Rt.call(this,t,e)},function(t){It[t?"unshift":"push"]((()=>{o=t,n(9,o)}))},t=>{n(1,i=!1),n(0,c=t)},()=>n(1,i=!1),function(){h=this.clientWidth,n(8,h)}]}class Zi extends ce{constructor(t){super(),le(this,t,Ki,Qi,I,{isOpen:1,disabled:2,items:3,placeholder:4,customClass:5,selectedOption:0,defaultOption:13,dataQaButton:6,dataQaList:7})}}function ts(t,e,n){const o=t.slice();return o[13]=e[n],o}function es(t){let e,n,o,i,s;return n=new Zi({props:{disabled:t[0],items:t[6],defaultOption:t[9],placeholder:t[7],dataQaButton:"deepl-language-selection-button",dataQaList:"deepl-language-selection-list",customClass:t[3]}}),n.$on("valueselected",t[8]),{c(){e=it("div"),ie(n.$$.fragment)},m(r,a){et(r,e,a),se(n,e,null),o=!0,i||(s=lt(e,"mousedown",ut(ct(t[11]))),i=!0)},p(t,e){const o={};1&e&&(o.disabled=t[0]),8&e&&(o.customClass=t[3]),n.$set(o)},i(t){o||(Zt(n.$$.fragment,t),o=!0)},o(t){te(n.$$.fragment,t),o=!1},d(t){t&&nt(e),re(n),i=!1,s()}}}function ns(t){let e,n,o,i,s,r,a=t[2]&&os(),l=t[6],c=[];for(let e=0;e<l.length;e+=1)c[e]=is(ts(t,l,e));return{c(){e=it("div"),n=it("select"),a&&a.c(),o=at();for(let t=0;t<c.length;t+=1)c[t].c();i=st(">"),dt(n,"data-qa","deepl-language-selection"),dt(n,"class","svelte-1kd7xcn"),dt(e,"class","language-selector svelte-1kd7xcn")},m(l,u){et(l,e,u),K(e,n),a&&a.m(n,null),K(n,o);for(let t=0;t<c.length;t+=1)c[t].m(n,null);K(n,i),mt(n,t[1]),s||(r=lt(n,"change",ct(t[12])),s=!0)},p(t,e){if(t[2]?a?a.p(t,e):(a=os(),a.c(),a.m(n,o)):a&&(a.d(1),a=null),64&e){let o;for(l=t[6],o=0;o<l.length;o+=1){const s=ts(t,l,o);c[o]?c[o].p(s,e):(c[o]=is(s),c[o].c(),c[o].m(n,i))}for(;o<c.length;o+=1)c[o].d(1);c.length=l.length}66&e&&mt(n,t[1])},i:N,o:N,d(t){t&&nt(e),a&&a.d(),ot(c,t),s=!1,r()}}}function os(t){let e,n,o,i=chrome.i18n.getMessage("supported_languages_undefined")+"";return{c(){e=it("option"),n=st(i),o=rt(),e.__value=void 0,e.value=e.__value},m(t,i){et(t,e,i),K(e,n),K(e,o)},p:N,d(t){t&&nt(e)}}}function is(t){let e,n,o,i,s=t[13].label+"";return{c(){e=it("option"),n=st(s),o=rt(),e.__value=i=t[13].value,e.value=e.__value},m(t,i){et(t,e,i),K(e,n),K(e,o)},p:N,d(t){t&&nt(e)}}}function ss(t){let e,n,o,i;const s=[ns,es],r=[];return e=Yi()?0:1,n=r[e]=s[e](t),{c(){n.c(),o=at()},m(t,n){r[e].m(t,n),et(t,o,n),i=!0},p(t,[e]){n.p(t,e)},i(t){i||(Zt(n),i=!0)},o(t){te(n),i=!1},d(t){r[e].d(t),t&&nt(o)}}}function rs(t,n,o){let i,a=N,l=()=>(a(),a=P(f,(t=>o(10,i=t))),f);t.$$.on_destroy.push((()=>a()));const c=kt(),u=e.map((t=>({value:t.k,label:chrome.i18n.getMessage(`supported_languages_${t.k}`)}))).sort(((t,e)=>t.label.localeCompare(e.label,chrome.i18n.getUILanguage())));let{value:d}=n,{showChooseLanguageOption:p=!1}=n,{customClass:h=""}=n,{websiteSettings:f}=n;l();let{disabled:m=!1}=n,g=p?chrome.i18n.getMessage("supported_languages_undefined"):void 0;let v=d?u.find((t=>t.value===d)):void 0;return t.$$set=t=>{"value"in t&&o(1,d=t.value),"showChooseLanguageOption"in t&&o(2,p=t.showChooseLanguageOption),"customClass"in t&&o(3,h=t.customClass),"websiteSettings"in t&&l(o(4,f=t.websiteSettings)),"disabled"in t&&o(0,m=t.disabled)},t.$$.update=()=>{1024&t.$$.dirty&&(i&&i.translationState===r?o(0,m=!0):i&&i.translationState===s&&o(0,m=!1))},[m,d,p,h,f,c,u,g,function(t){m||c("selection",t.detail)},v,i,function(e){Rt.call(this,t,e)},t=>{m||c("selection",{selectedOption:{value:t.target.value}})}]}class as extends ce{constructor(t){super(),le(this,t,rs,ss,I,{value:1,showChooseLanguageOption:2,customClass:3,websiteSettings:4,disabled:0})}}function ls(t){let e,n,o,i,s,r,a,l,c;return{c(){e=it("div"),n=it("input"),o=rt(),i=it("div"),s=rt(),r=it("label"),a=st(t[3]),dt(n,"id",t[1]),dt(n,"name",t[4]),dt(n,"type","radio"),n.checked=t[2],dt(n,"class","svelte-9duj4o"),dt(i,"class","radio-icon svelte-9duj4o"),dt(r,"for",t[1]),dt(r,"class","svelte-9duj4o"),dt(e,"class","radio svelte-9duj4o")},m(u,d){et(u,e,d),K(e,n),ht(n,t[0]),K(e,o),K(e,i),K(e,s),K(e,r),K(r,a),l||(c=[lt(n,"change",t[7]),lt(n,"change",t[5]),lt(n,"mousedown",ut(ct(t[6])))],l=!0)},p(t,[e]){2&e&&dt(n,"id",t[1]),16&e&&dt(n,"name",t[4]),4&e&&(n.checked=t[2]),1&e&&ht(n,t[0]),8&e&&pt(a,t[3]),2&e&&dt(r,"for",t[1])},i:N,o:N,d(t){t&&nt(e),l=!1,R(c)}}}function cs(t,e,n){let{id:o}=e,{checked:i}=e,{label:s}=e,{value:r}=e,{name:a}=e;return t.$$set=t=>{"id"in t&&n(1,o=t.id),"checked"in t&&n(2,i=t.checked),"label"in t&&n(3,s=t.label),"value"in t&&n(0,r=t.value),"name"in t&&n(4,a=t.name)},[r,o,i,s,a,function(e){Rt.call(this,t,e)},function(e){Rt.call(this,t,e)},function(){r=this.value,n(0,r)}]}class us extends ce{constructor(t){super(),le(this,t,cs,ls,I,{id:1,checked:2,label:3,value:0,name:4})}}function ds(t){let e,n,o,i,s,r,a,l,c,u=t[0]?"":"";return{c(){e=it("label"),n=it("input"),o=rt(),i=it("span"),s=rt(),r=it("span"),a=st(u),dt(n,"type","checkbox"),n.checked=t[0],dt(n,"class","svelte-8sxktx"),dt(i,"class","slider svelte-8sxktx"),dt(r,"class","switch__label svelte-8sxktx"),dt(e,"class","switch svelte-8sxktx")},m(u,d){et(u,e,d),K(e,n),K(e,o),K(e,i),K(e,s),K(e,r),K(r,a),l||(c=[lt(n,"change",t[1]),lt(n,"mousedown",ut(ct(t[2])))],l=!0)},p(t,[e]){1&e&&(n.checked=t[0]),1&e&&u!==(u=t[0]?"":"")&&pt(a,u)},i:N,o:N,d(t){t&&nt(e),l=!1,R(c)}}}function ps(t,e,n){let{checked:o}=e;return t.$$set=t=>{"checked"in t&&n(0,o=t.checked)},[o,function(e){Rt.call(this,t,e)},function(e){Rt.call(this,t,e)}]}class hs extends ce{constructor(t){super(),le(this,t,ps,ds,I,{checked:0})}}function fs(t){let e,n,o,i,s,r,a;i=new as({props:{value:t[3].targetLanguageUserInput,showChooseLanguageOption:!0}}),i.$on("selection",t[7]);let l=t[3].targetLanguageUserInput&&"undefined"!=t[3].targetLanguageUserInput&&!t[0]&&ms(t);return{c(){e=it("div"),n=st(t[2]),o=rt(),ie(i.$$.fragment),s=rt(),l&&l.c(),r=at(),dt(e,"class","secondary-text svelte-1tth2lw")},m(t,c){et(t,e,c),K(e,n),et(t,o,c),se(i,t,c),et(t,s,c),l&&l.m(t,c),et(t,r,c),a=!0},p(t,e){(!a||4&e)&&pt(n,t[2]);const o={};8&e&&(o.value=t[3].targetLanguageUserInput),i.$set(o),t[3].targetLanguageUserInput&&"undefined"!=t[3].targetLanguageUserInput&&!t[0]?l?(l.p(t,e),9&e&&Zt(l,1)):(l=ms(t),l.c(),Zt(l,1),l.m(r.parentNode,r)):l&&(Xt(),te(l,1,1,(()=>{l=null})),Kt())},i(t){a||(Zt(i.$$.fragment,t),Zt(l),a=!0)},o(t){te(i.$$.fragment,t),te(l),a=!1},d(t){t&&nt(e),t&&nt(o),re(i,t),t&&nt(s),l&&l.d(t),t&&nt(r)}}}function ms(t){let e,n,o,i,s;return n=new us({props:{name:"translation_type",id:m,value:m,checked:t[3].inputTranslationType===m,label:chrome.i18n.getMessage("input_translation_option_default_translation")}}),n.$on("change",t[5]),i=new us({props:{name:"translation_type",id:g,value:g,checked:t[3].inputTranslationType===g,label:chrome.i18n.getMessage("input_translation_option_choose_language")}}),i.$on("change",t[5]),{c(){e=it("div"),ie(n.$$.fragment),o=rt(),ie(i.$$.fragment),dt(e,"class","option-container svelte-1tth2lw")},m(t,r){et(t,e,r),se(n,e,null),K(e,o),se(i,e,null),s=!0},p(t,e){const o={};8&e&&(o.checked=t[3].inputTranslationType===m),n.$set(o);const s={};8&e&&(s.checked=t[3].inputTranslationType===g),i.$set(s)},i(t){s||(Zt(n.$$.fragment,t),Zt(i.$$.fragment,t),s=!0)},o(t){te(n.$$.fragment,t),te(i.$$.fragment,t),s=!1},d(t){t&&nt(e),re(n),re(i)}}}function gs(t){let e,n,o,i,s,r,a,l;r=new hs({props:{checked:t[3].enableInputTranslation}}),r.$on("change",t[6]);let c=t[3].enableInputTranslation&&fs(t);return{c(){e=it("div"),n=it("div"),o=it("div"),i=st(t[1]),s=rt(),ie(r.$$.fragment),a=rt(),c&&c.c(),dt(o,"class","primary-text svelte-1tth2lw"),dt(n,"class","headline svelte-1tth2lw")},m(t,u){et(t,e,u),K(e,n),K(n,o),K(o,i),K(n,s),se(r,n,null),K(e,a),c&&c.m(e,null),l=!0},p(t,[n]){(!l||2&n)&&pt(i,t[1]);const o={};8&n&&(o.checked=t[3].enableInputTranslation),r.$set(o),t[3].enableInputTranslation?c?(c.p(t,n),8&n&&Zt(c,1)):(c=fs(t),c.c(),Zt(c,1),c.m(e,null)):c&&(Xt(),te(c,1,1,(()=>{c=null})),Kt())},i(t){l||(Zt(r.$$.fragment,t),Zt(c),l=!0)},o(t){te(r.$$.fragment,t),te(c),l=!1},d(t){t&&nt(e),re(r),c&&c.d()}}}function vs(t,e,n){let o;const i=Dt("deepl_settings");j(t,i,(t=>n(3,o=t)));let{showLanguageSwitchOnly:s=!1}=e,{headerText:r=chrome.i18n.getMessage("input_translation_settings_headline")}=e,{subHeaderText:a=chrome.i18n.getMessage("input_translation_settings_target_language")}=e;return t.$$set=t=>{"showLanguageSwitchOnly"in t&&n(0,s=t.showLanguageSwitchOnly),"headerText"in t&&n(1,r=t.headerText),"subHeaderText"in t&&n(2,a=t.subHeaderText)},[s,r,a,o,i,function(t){i.set({inputTranslationType:t.currentTarget.value})},function(){i.set({enableInputTranslation:!o.enableInputTranslation})},t=>i.set({targetLanguageUserInput:t.detail.selectedOption.value,inputTranslationType:o.inputTranslationType?o.inputTranslationType:m})]}class _s extends ce{constructor(t){super(),le(this,t,vs,gs,I,{showLanguageSwitchOnly:0,headerText:1,subHeaderText:2})}}function ws(t){let e,n=chrome.i18n.getMessage("input_translation_button_translate")+"";return{c(){e=st(n)},m(t,n){et(t,e,n)},p:N,d(t){t&&nt(e)}}}function ys(t){let e,n,o,i;return e=new _s({props:{showLanguageSwitchOnly:t[2]}}),o=new Gi({props:{disabled:!t[3].targetLanguageUserInput||"undefined"==t[3].targetLanguageUserInput,dataQa:"dl-input-translate-button",$$slots:{default:[ws]},$$scope:{ctx:t}}}),o.$on("click",t[6]),{c(){ie(e.$$.fragment),n=rt(),ie(o.$$.fragment)},m(t,s){se(e,t,s),et(t,n,s),se(o,t,s),i=!0},p(t,n){const i={};4&n&&(i.showLanguageSwitchOnly=t[2]),e.$set(i);const s={};8&n&&(s.disabled=!t[3].targetLanguageUserInput||"undefined"==t[3].targetLanguageUserInput),256&n&&(s.$$scope={dirty:n,ctx:t}),o.$set(s)},i(t){i||(Zt(e.$$.fragment,t),Zt(o.$$.fragment,t),i=!0)},o(t){te(e.$$.fragment,t),te(o.$$.fragment,t),i=!1},d(t){re(e,t),t&&nt(n),re(o,t)}}}function bs(t){let e,n;return e=new Ko({props:{offsetTop:t[0],isBottomPage:t[1],$$slots:{default:[ys]},$$scope:{ctx:t}}}),e.$on("close",t[7]),{c(){ie(e.$$.fragment)},m(t,o){se(e,t,o),n=!0},p(t,[n]){const o={};1&n&&(o.offsetTop=t[0]),2&n&&(o.isBottomPage=t[1]),268&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(Zt(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){re(e,t)}}}function $s(t,e,n){let o;const i=Dt("deepl_settings");j(t,i,(t=>n(3,o=t)));const s=kt();let{offsetTop:r}=e,{isBottomPage:a}=e,{showLanguageSwitchOnly:l}=e;return t.$$set=t=>{"offsetTop"in t&&n(0,r=t.offsetTop),"isBottomPage"in t&&n(1,a=t.isBottomPage),"showLanguageSwitchOnly"in t&&n(2,l=t.showLanguageSwitchOnly)},[r,a,l,o,i,s,()=>s("translate"),function(e){Rt.call(this,t,e)}]}class xs extends ce{constructor(t){super(),le(this,t,$s,bs,I,{offsetTop:0,isBottomPage:1,showLanguageSwitchOnly:2})}}function Es(t){let e,n,o,i,s;return n=new ji({props:{tooltip:chrome.i18n.getMessage("input_translation_tooltip_settings"),$$slots:{default:[Ss]},$$scope:{ctx:t}}}),i=new ji({props:{tooltip:t[5],$$slots:{default:[Cs]},$$scope:{ctx:t}}}),{c(){e=it("div"),ie(n.$$.fragment),o=rt(),ie(i.$$.fragment),dt(e,"class","icon-container svelte-1rnsf6g")},m(t,r){et(t,e,r),se(n,e,null),K(e,o),se(i,e,null),s=!0},p(t,e){const o={};134218496&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o);const s={};32&e&&(s.tooltip=t[5]),134218504&e&&(s.$$scope={dirty:e,ctx:t}),i.$set(s)},i(t){s||(Zt(n.$$.fragment,t),Zt(i.$$.fragment,t),s=!0)},o(t){te(n.$$.fragment,t),te(i.$$.fragment,t),s=!1},d(t){t&&nt(e),re(n),re(i)}}}function Ts(t){let e,n,o;return n=new Jo({props:{small:!0}}),{c(){e=it("div"),ie(n.$$.fragment),dt(e,"class","loading-container svelte-1rnsf6g")},m(t,i){et(t,e,i),se(n,e,null),o=!0},p:N,i(t){o||(Zt(n.$$.fragment,t),o=!0)},o(t){te(n.$$.fragment,t),o=!1},d(t){t&&nt(e),re(n)}}}function Ss(t){let e,n,o;return{c(){e=it("div"),dt(e,"class","dl-setting-inline-icon svelte-1rnsf6g")},m(i,s){et(i,e,s),n||(o=[lt(e,"click",ut(ct(t[18]))),lt(e,"mousedown",ut(ct(t[17])))],n=!0)},p:N,d(t){t&&nt(e),n=!1,R(o)}}}function Cs(t){let e,n,o;return{c(){e=it("div"),dt(e,"class","dl-logo svelte-1rnsf6g"),dt(e,"data-qa","deepl-input-translate-icon")},m(i,s){et(i,e,s),n||(o=[lt(e,"click",ut(ct(t[19]))),lt(e,"mousedown",ut(ct(t[16])))],n=!0)},p:N,d(t){t&&nt(e),n=!1,R(o)}}}function Ls(t){let e,n;return e=new si({props:{offsetTop:t[12],isBottomPage:t[1],errorMessage:chrome.i18n.getMessage(t[4])}}),e.$on("close",t[22]),{c(){ie(e.$$.fragment)},m(t,o){se(e,t,o),n=!0},p(t,n){const o={};4096&n&&(o.offsetTop=t[12]),2&n&&(o.isBottomPage=t[1]),16&n&&(o.errorMessage=chrome.i18n.getMessage(t[4])),e.$set(o)},i(t){n||(Zt(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){re(e,t)}}}function Os(t){let e,n;return e=new xs({props:{offsetTop:t[12],isBottomPage:t[1],showLanguageSwitchOnly:t[9]}}),e.$on("translate",t[14]),e.$on("close",t[23]),e.$on("resize",t[24]),{c(){ie(e.$$.fragment)},m(t,o){se(e,t,o),n=!0},p(t,n){const o={};4096&n&&(o.offsetTop=t[12]),2&n&&(o.isBottomPage=t[1]),512&n&&(o.showLanguageSwitchOnly=t[9]),e.$set(o)},i(t){n||(Zt(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){re(e,t)}}}function Ns(t){let e,n,o,i,s,r,a,l,c,u,d,p;const h=[Ts,Es],f=[];function m(t,e){return t[7]?0:1}i=m(t),s=f[i]=h[i](t);let g=t[4]&&Ls(t),v=(t[8]||t[9])&&Os(t);return{c(){e=it("div"),n=it("div"),o=it("div"),s.c(),a=rt(),g&&g.c(),l=rt(),v&&v.c(),dt(n,"style",`z-index: ${t[13].z_index}`),dt(n,"class","container svelte-1rnsf6g"),Ht((()=>t[21].call(n))),dt(e,"style",c=`width: ${t[8]?t[10]:t[6]}px; height: ${t[8]?t[11]+t[12]:t[12]}px;`),dt(e,"class","hidden-container svelte-1rnsf6g")},m(s,c){et(s,e,c),K(e,n),K(n,o),f[i].m(o,null),r=_t(n,t[21].bind(n)),K(e,a),g&&g.m(e,null),K(e,l),v&&v.m(e,null),u=!0,d||(p=[lt(n,"mouseleave",t[20]),F(L.call(null,e,!0)),lt(e,"click_outside",t[25])],d=!0)},p(t,[n]){let r=i;i=m(t),i===r?f[i].p(t,n):(Xt(),te(f[r],1,1,(()=>{f[r]=null})),Kt(),s=f[i],s?s.p(t,n):(s=f[i]=h[i](t),s.c()),Zt(s,1),s.m(o,null)),t[4]?g?(g.p(t,n),16&n&&Zt(g,1)):(g=Ls(t),g.c(),Zt(g,1),g.m(e,l)):g&&(Xt(),te(g,1,1,(()=>{g=null})),Kt()),t[8]||t[9]?v?(v.p(t,n),768&n&&Zt(v,1)):(v=Os(t),v.c(),Zt(v,1),v.m(e,null)):v&&(Xt(),te(v,1,1,(()=>{v=null})),Kt()),(!u||7488&n&&c!==(c=`width: ${t[8]?t[10]:t[6]}px; height: ${t[8]?t[11]+t[12]:t[12]}px;`))&&dt(e,"style",c)},i(t){u||(Zt(s),Zt(g),Zt(v),u=!0)},o(t){te(s),te(g),te(v),u=!1},d(t){t&&nt(e),f[i].d(),r(),g&&g.d(),v&&v.d(),d=!1,R(p)}}}function ks(t,e,n){let o,i;j(t,ve,(t=>n(3,i=t))),Mt("deepl_settings",ve);let s,r,a,l,{element:c}=e,{closePopup:u}=e,{isBottomPage:d}=e,p="",h=0,f=0,m=!1,v=!1,_=!1;const{deepl_inline_ui:b}=w;async function $(){if(i.targetLanguageUserInput&&"undefined"!=i.targetLanguageUserInput){n(8,v=!1),n(7,m=!0);try{await Go(c),l||S(y)}catch(t){n(4,p=t.message?t.message:t)}n(7,m=!1)}else n(8,v=!0)}return t.$$set=t=>{"element"in t&&n(15,c=t.element),"closePopup"in t&&n(0,u=t.closePopup),"isBottomPage"in t&&n(1,d=t.isBottomPage)},t.$$.update=()=>{if(4&t.$$.dirty&&n(12,o=h+5),8&t.$$.dirty)if(i.targetLanguageUserInput&&"undefined"!=i.targetLanguageUserInput&&i.inputTranslationType!==g){let t;T({action:"dlCheckCommandShortcuts"}).then((e=>{t=e?e.filter((t=>t.name==x))[0].shortcut:"",t?(t=`(${t})`,l=!0):l=!1,n(5,s=`${chrome.i18n.getMessage("input_translation_tooltip_translate")} ${t}`)}))}else n(5,s=chrome.i18n.getMessage("input_translation_tooltip_translate_to_unknown"))},[u,d,h,i,p,s,f,m,v,_,r,a,o,b,$,c,function(e){Rt.call(this,t,e)},function(e){Rt.call(this,t,e)},()=>{n(9,_=!1),n(8,v=!0)},()=>{i.inputTranslationType?i.inputTranslationType===g?(n(9,_=!0),n(8,v=!0)):$():(n(9,_=!1),n(8,v=!0))},()=>{v||_||m||p||u()},function(){h=this.offsetHeight,f=this.offsetWidth,n(2,h),n(6,f)},()=>{n(4,p=""),u()},()=>{n(8,v=!1),n(9,_=!1),u()},t=>{n(10,r=t.detail.offsetWidth),n(11,a=t.detail.offsetHeight)},()=>u()]}class Ms extends ce{constructor(t){super(),le(this,t,ks,Ns,I,{element:15,closePopup:0,isBottomPage:1})}}class Ds extends HTMLElement{constructor(){if(super(),this.shadowRoot)return;this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.container=document.createElement("div"),this.mainComponent,this.offsetElement,this.isSmall,this.outerContainer;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(t),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.cleanDom=this.cleanupDOM.bind(this),this.addChangeEvents=this.addChangeEvents.bind(this),this.repositionContainer=this.repositionContainer.bind(this),this.shadowRoot.addEventListener("mousedown",(t=>{t.stopPropagation(),t.stopImmediatePropagation()}))}createDOM(t,e,n,o){const{deepl_inline_ui:i}=w;this.shadowContainer&&this.shadowContainer.childElementCount>0&&this.cleanupDOM(),t.getBoundingClientRect(),this.offsetElement=n,this.isSmall=o,this.outerContainer=t,this.shadowContainer.style.cssText=`position: absolute; top: 0px; left: 0px; width: 100%; z-index: ${i.z_index}`,this.shadowContainer.appendChild(this.container);const{isBottomPage:s}=this.repositionContainer();this.mainComponent=new Ms({target:this.container,props:{element:e,isBottomPage:s,closePopup:()=>this.cleanupDOM()}}),this.addChangeEvents()}repositionContainer(){const{deepl_inline_ui:t}=w,e=this.outerContainer.getBoundingClientRect();let n=this.offsetElement&&this.offsetElement.getBoundingClientRect()?this.offsetElement.getBoundingClientRect().top:0,o=this.offsetElement&&this.offsetElement.getBoundingClientRect()?this.offsetElement.getBoundingClientRect().left:0;this.isSmall&&(n-=5,o+=3),this.container.style.cssText=`position: absolute; top: ${e.top+window.scrollY+n}px; left: ${e.left+o}px; z-index: ${t.z_index}; transform: scale(1)`;return{isBottomPage:(window.innerHeight||document.documentElement.clientHeight)<e.bottom+250+n}}addChangeEvents(){window.addEventListener("scroll",this.repositionContainer),window.addEventListener("resize",this.repositionContainer)}removeChangeEvents(){window.removeEventListener("scroll",this.repositionContainer),window.removeEventListener("resize",this.repositionContainer)}cleanupDOM(){this.container.remove(),this.shadowContainer.remove(),this.shadowContainer=document.createElement("div"),this.container=document.createElement("div"),this.shadow.appendChild(this.shadowContainer),this.mainComponent&&this.mainComponent.$destroy(),this.removeChangeEvents()}}window.customElements.define("deepl-inline-popup",Ds);const Rs="DEVELOPER_TOOLS";function As(t){let e,n,o,i,s,r,a,l,c=fe();let u=l&&l(t),d=c&&function(t){let e,n,o;return{c(){e=it("div"),e.textContent="DEV_TOOLS",dt(e,"class","dl-menu-item svelte-feu83h")},m(i,s){et(i,e,s),n||(o=lt(e,"click",t[10]),n=!0)},p:N,d(t){t&&nt(e),n=!1,o()}}}(t);return{c(){e=it("div"),n=it("div"),n.innerHTML='<span class="dl-menu-link dl-feedback-link svelte-feu83h"><div>Share feedback</div> \n          <div class="dl-feedback-icon svelte-feu83h"></div></span>',o=rt(),u&&u.c(),i=rt(),d&&d.c(),dt(n,"class","dl-menu-item svelte-feu83h"),dt(e,"class","dl-menu-list svelte-feu83h")},m(s,l){et(s,e,l),K(e,n),K(e,o),u&&u.m(e,null),K(e,i),d&&d.m(e,null),r||(a=lt(n,"click",t[8]),r=!0)},p(t,n){l===(l=void 0)&&u?u.p(t,n):(u&&u.d(1),u=l&&l(t),u&&(u.c(),u.m(e,i))),c&&d.p(t,n)},i(t){s||Ht((()=>{s=ne(e,fi,{y:-5,duration:500}),s.start()}))},o:N,d(t){t&&nt(e),u&&u.d(),d&&d.d(),r=!1,a()}}}function Is(t){let e,n,o,i,s,r,a,l=t[0]&&As(t);return{c(){e=it("div"),n=it("div"),o=rt(),i=it("button"),s=rt(),l&&l.c(),dt(i,"type","button"),dt(i,"class","dl-menu-icon dl-menu-icon--hamburger svelte-feu83h"),wt(i,"isOpen",t[0]),dt(n,"class","dl-menu-icon-wrapper svelte-feu83h"),dt(e,"class","dl-container-menu svelte-feu83h")},m(c,u){et(c,e,u),K(e,n),K(n,o),K(n,i),K(e,s),l&&l.m(e,null),r||(a=[lt(i,"mousedown",ct(t[13])),lt(n,"click",t[15]),lt(n,"mousedown",ut(ct(t[12]))),F(L.call(null,e,!0)),lt(e,"click_outside",t[9]),lt(e,"mousedown",ut(ct(t[11])))],r=!0)},p(t,[n]){1&n&&wt(i,"isOpen",t[0]),t[0]?l?(l.p(t,n),1&n&&Zt(l,1)):(l=As(t),l.c(),Zt(l,1),l.m(e,null)):l&&(l.d(1),l=null)},i(t){Zt(l)},o:N,d(t){t&&nt(e),l&&l.d(),r=!1,R(a)}}}function Ps(t,e,n){let o,i;const{PAGES:s,currentPage:r,setPage:a}=Dt("deepl_navigation");j(t,r,(t=>n(16,o=t)));const l=Dt("deepl_settings");j(t,l,(t=>n(1,i=t)));let c=!1;function u(){n(0,c=!1)}return[c,i,r,l,function(){o!==s.settings&&(a(s.settings),u())},function(){T({action:"dlRequestLogout"}),u(),a(s.main)},function(){T({action:"dlRequestLogin"}),u()},function(){T({action:"dlExternalURLRedirect",payload:{destination:gi,utmContent:"menu"}}),u()},function(){T({action:"dlExternalURLRedirect",payload:{destination:mi}}),u()},u,function(){T({action:"dlOpenInternalPage",payload:{destination:Rs}}),u()},function(e){Rt.call(this,t,e)},function(e){Rt.call(this,t,e)},function(e){Rt.call(this,t,e)},function(e){Rt.call(this,t,e)},()=>{n(0,c=!c)}]}class js extends ce{constructor(t){super(),le(this,t,Ps,Is,I,{})}}function Bs(t){let e,n,o;return{c(){e=it("div"),dt(e,"class","dl-logo svelte-1nmfhg6")},m(i,s){et(i,e,s),n||(o=lt(e,"mousedown",ut(ct(t[11]))),n=!0)},p:N,d(t){t&&nt(e),n=!1,o()}}}function qs(t){let e,n,o;return{c(){e=it("div"),dt(e,"class","dl-logo dl-logo--clickable svelte-1nmfhg6")},m(i,s){et(i,e,s),n||(o=[lt(e,"click",t[7]),lt(e,"mousedown",ut(ct(t[10])))],n=!0)},p:N,d(t){t&&nt(e),n=!1,R(o)}}}function Hs(t){let e,n,o,i,s,r,a,l;return s=new as({props:{value:t[5].selectedTargetLanguage,websiteSettings:t[4],customClass:"dropdown__wrapper--header"}}),s.$on("selection",t[12]),{c(){e=it("div"),n=it("span"),n.textContent=`${chrome.i18n.getMessage("layout_header_label_language_switch")}`,o=rt(),i=it("div"),ie(s.$$.fragment),dt(n,"class","dl-actions-language-selector__label svelte-1nmfhg6"),dt(i,"class","dl-actions-language-selector__dropdown svelte-1nmfhg6"),dt(e,"class","dl-actions-language-selector svelte-1nmfhg6")},m(c,u){et(c,e,u),K(e,n),K(e,o),K(e,i),se(s,i,null),r=!0,a||(l=lt(e,"mousedown",ut(ct(t[9]))),a=!0)},p(t,e){const n={};32&e&&(n.value=t[5].selectedTargetLanguage),16&e&&(n.websiteSettings=t[4]),s.$set(n)},i(t){r||(Zt(s.$$.fragment,t),r=!0)},o(t){te(s.$$.fragment,t),r=!1},d(t){t&&nt(e),re(s),a=!1,l()}}}function Us(t){let e,n;return e=new js({}),{c(){ie(e.$$.fragment)},m(t,o){se(e,t,o),n=!0},i(t){n||(Zt(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){re(e,t)}}}function zs(t){let e,n,o;return{c(){e=it("button"),dt(e,"type","button"),dt(e,"class","dl-close-icon svelte-1nmfhg6")},m(i,s){et(i,e,s),n||(o=lt(e,"click",(function(){A(t[0])&&t[0].apply(this,arguments)})),n=!0)},p(e,n){t=e},d(t){t&&nt(e),n=!1,o()}}}function Ws(t){let e,n,o,i,s,r,a;let l=function(t,e){return t[7]?qs:Bs}(t),c=l(t),u=t[2]&&t[5]&&t[4]&&Hs(t),d=t[1]&&Us(),p=t[0]&&zs(t);return{c(){e=it("div"),c.c(),n=rt(),o=it("div"),u&&u.c(),i=rt(),d&&d.c(),s=rt(),p&&p.c(),dt(o,"class","dl-actions svelte-1nmfhg6"),dt(e,"class",r=W(`dl-header ${t[2]&&"dl-header--with-lang-selector"}`)+" svelte-1nmfhg6")},m(t,r){et(t,e,r),c.m(e,null),K(e,n),K(e,o),u&&u.m(o,null),K(o,i),d&&d.m(o,null),K(o,s),p&&p.m(o,null),a=!0},p(t,[n]){c.p(t,n),t[2]&&t[5]&&t[4]?u?(u.p(t,n),52&n&&Zt(u,1)):(u=Hs(t),u.c(),Zt(u,1),u.m(o,i)):u&&(Xt(),te(u,1,1,(()=>{u=null})),Kt()),t[1]?d?2&n&&Zt(d,1):(d=Us(),d.c(),Zt(d,1),d.m(o,s)):d&&(Xt(),te(d,1,1,(()=>{d=null})),Kt()),t[0]?p?p.p(t,n):(p=zs(t),p.c(),p.m(o,null)):p&&(p.d(1),p=null),(!a||4&n&&r!==(r=W(`dl-header ${t[2]&&"dl-header--with-lang-selector"}`)+" svelte-1nmfhg6"))&&dt(e,"class",r)},i(t){a||(Zt(u),Zt(d),a=!0)},o(t){te(u),te(d),a=!1},d(t){t&&nt(e),c.d(),u&&u.d(),d&&d.d(),p&&p.d()}}}function Fs(t,e,n){let o,i,a=N,l=()=>(a(),a=P(g,(t=>n(13,o=t))),g),c=N,d=()=>(c(),c=P(m,(t=>n(5,i=t))),m);t.$$.on_destroy.push((()=>a())),t.$$.on_destroy.push((()=>c()));let{closeWindow:p}=e,{showMenu:h=!1}=e,{showLangSelect:f=!1}=e,{settings:m}=e;d();let{websiteSettings:g}=e;l();let{extensionContext:v=0}=e;async function _(t){await m.set({selectedTargetLanguage:t,isTargetLanguageConfirmed:!0}),g.update({translationState:r}),T({action:"dlRequestInlineTranslation",payload:{requests:[{text:o.originalSnippet}],domainName:window.location.hostname,trigger:u,sourceLang:o.websiteLanguage}}).then((t=>{g.update({translationState:s,translatedSnippet:t[0].text,websiteLanguage:t[0].detected_source_language})})).catch((t=>{g.update({translationState:s,error:t.message?t.message:chrome.i18n.getMessage(t)})}))}return t.$$set=t=>{"closeWindow"in t&&n(0,p=t.closeWindow),"showMenu"in t&&n(1,h=t.showMenu),"showLangSelect"in t&&n(2,f=t.showLangSelect),"settings"in t&&d(n(3,m=t.settings)),"websiteSettings"in t&&l(n(4,g=t.websiteSettings)),"extensionContext"in t&&n(8,v=t.extensionContext)},[p,h,f,m,g,i,_,function(){T({action:"dlTrackLogoClickedEvent",payload:{extensionContext:v}}),T({action:"dlExternalURLRedirect",payload:{destination:_i,utmContent:"home"}})},v,function(e){Rt.call(this,t,e)},function(e){Rt.call(this,t,e)},function(e){Rt.call(this,t,e)},t=>{_(t.detail.selectedOption.value)}]}class Gs extends ce{constructor(t){super(),le(this,t,Fs,Ws,I,{closeWindow:0,showMenu:1,showLangSelect:2,settings:3,websiteSettings:4,extensionContext:8})}}const Ys={main:"MAIN",settings:"SETTINGS"},Vs=de(Ys.main);function Js(t){let e,n,o,i,s,r;n=new Gs({props:{websiteSettings:t[4],settings:t[3],showLangSelect:t[2],showMenu:t[1],closeWindow:t[0],extensionContext:t[5]}});const a=t[7].default,l=B(a,t,t[6],null);return{c(){e=it("div"),ie(n.$$.fragment),o=rt(),i=it("div"),l&&l.c(),dt(i,"class","dl-content svelte-1gqmhv7"),dt(i,"style",Yi()?"":"padding: 10px 12px 10px 12px;"),dt(e,"class",s=W(`dl-layout ${t[2]&&"dl-layout--with-lang-selector"}`)+" svelte-1gqmhv7"),dt(e,"translate","no")},m(t,s){et(t,e,s),se(n,e,null),K(e,o),K(e,i),l&&l.m(i,null),r=!0},p(t,[o]){const i={};16&o&&(i.websiteSettings=t[4]),8&o&&(i.settings=t[3]),4&o&&(i.showLangSelect=t[2]),2&o&&(i.showMenu=t[1]),1&o&&(i.closeWindow=t[0]),32&o&&(i.extensionContext=t[5]),n.$set(i),l&&l.p&&(!r||64&o)&&U(l,a,t,t[6],r?H(a,t[6],o,null):z(t[6]),null),(!r||4&o&&s!==(s=W(`dl-layout ${t[2]&&"dl-layout--with-lang-selector"}`)+" svelte-1gqmhv7"))&&dt(e,"class",s)},i(t){r||(Zt(n.$$.fragment,t),Zt(l,t),r=!0)},o(t){te(n.$$.fragment,t),te(l,t),r=!1},d(t){t&&nt(e),re(n),l&&l.d(t)}}}function Qs(t,e,n){let o;j(t,Vs,(t=>n(8,o=t)));let{$$slots:i={},$$scope:s}=e;Mt("deepl_navigation",{PAGES:Ys,currentPage:Vs,setPage:function(t){var e;o=t,e=o,Vs.set(e)}});let{closeWindow:r}=e,{showMenu:a=!1}=e,{showLangSelect:l=!1}=e,{settings:c}=e,{websiteSettings:u}=e,{extensionContext:d}=e;return t.$$set=t=>{"closeWindow"in t&&n(0,r=t.closeWindow),"showMenu"in t&&n(1,a=t.showMenu),"showLangSelect"in t&&n(2,l=t.showLangSelect),"settings"in t&&n(3,c=t.settings),"websiteSettings"in t&&n(4,u=t.websiteSettings),"extensionContext"in t&&n(5,d=t.extensionContext),"$$scope"in t&&n(6,s=t.$$scope)},[r,a,l,c,u,d,s,i]}class Xs extends ce{constructor(t){super(),le(this,t,Qs,Js,I,{closeWindow:0,showMenu:1,showLangSelect:2,settings:3,websiteSettings:4,extensionContext:5})}}function Ks(t){let e,n,o,i,s,r=JSON.stringify(t[1](),void 0,2)+"";return{c(){e=it("p"),n=st(t[0]),o=rt(),i=it("pre"),s=st(r),dt(i,"class","debug-settings svelte-mu7va1")},m(t,r){et(t,e,r),K(e,n),et(t,o,r),et(t,i,r),K(i,s)},p(t,[e]){1&e&&pt(n,t[0]),2&e&&r!==(r=JSON.stringify(t[1](),void 0,2)+"")&&pt(s,r)},i:N,o:N,d(t){t&&nt(e),t&&nt(o),t&&nt(i)}}}function Zs(t,e,n){let{headline:o="JSON block"}=e,{jsonData:i=(()=>{})}=e;return t.$$set=t=>{"headline"in t&&n(0,o=t.headline),"jsonData"in t&&n(1,i=t.jsonData)},[o,i]}class tr extends ce{constructor(t){super(),le(this,t,Zs,Ks,I,{headline:0,jsonData:1})}}function er(t){let e,n,o,i,s,r,a,l;return{c(){e=it("div"),n=it("div"),i=rt(),s=it("span"),r=st(t[1]),dt(n,"class",o=W(`${t[0]}-position-icon`)+" svelte-doh0qz"),dt(s,"class","entry-text svelte-doh0qz"),dt(e,"class","entry-container svelte-doh0qz")},m(o,c){et(o,e,c),K(e,n),K(e,i),K(e,s),K(s,r),a||(l=[lt(e,"click",t[4]),lt(e,"mousedown",ut(ct(t[5])))],a=!0)},p(t,e){1&e&&o!==(o=W(`${t[0]}-position-icon`)+" svelte-doh0qz")&&dt(n,"class",o),2&e&&pt(r,t[1])},d(t){t&&nt(e),a=!1,R(l)}}}function nr(t){let e,n,o,i,s,r,a,l;return{c(){e=it("div"),n=it("div"),i=rt(),s=it("span"),r=st(t[1]),dt(n,"class",o=W(`${t[0]}-position-icon`)+" svelte-doh0qz"),dt(s,"class","entry-text svelte-doh0qz"),dt(e,"class","entry-container disabled svelte-doh0qz")},m(o,c){et(o,e,c),K(e,n),K(e,i),K(e,s),K(s,r),a||(l=lt(e,"mousedown",ut(ct(t[3]))),a=!0)},p(t,e){1&e&&o!==(o=W(`${t[0]}-position-icon`)+" svelte-doh0qz")&&dt(n,"class",o),2&e&&pt(r,t[1])},d(t){t&&nt(e),a=!1,l()}}}function or(t){let e;function n(t,e){return t[2]?nr:er}let o=n(t),i=o(t);return{c(){i.c(),e=at()},m(t,n){i.m(t,n),et(t,e,n)},p(t,[s]){o===(o=n(t))&&i?i.p(t,s):(i.d(1),i=o(t),i&&(i.c(),i.m(e.parentNode,e)))},i:N,o:N,d(t){i.d(t),t&&nt(e)}}}function ir(t,e,n){let{position:o}=e,{label:i}=e,{disabled:s}=e;return t.$$set=t=>{"position"in t&&n(0,o=t.position),"label"in t&&n(1,i=t.label),"disabled"in t&&n(2,s=t.disabled)},[o,i,s,function(e){Rt.call(this,t,e)},function(e){Rt.call(this,t,e)},function(e){Rt.call(this,t,e)}]}class sr extends ce{constructor(t){super(),le(this,t,ir,or,I,{position:0,label:1,disabled:2})}}function rr(t){let e,n,o,i,s,r,a,l,c,u,d,p,h,f;return o=new sr({props:{position:t[2].TOP,label:t[3](t[2].TOP),disabled:!1===t[0].hasSpaceAbove}}),o.$on("click",t[6]),r=new sr({props:{position:t[2].BOTTOM,label:t[3](t[2].BOTTOM),disabled:!1===t[0].hasSpaceUnderneath}}),r.$on("click",t[7]),c=new sr({props:{position:t[2].RIGHT,label:t[3](t[2].RIGHT),disabled:!1===t[0].hasSpaceOnTheRight}}),c.$on("click",t[8]),p=new sr({props:{position:t[2].LEFT,label:t[3](t[2].LEFT),disabled:!1===t[0].hasSpaceOnTheLeft}}),p.$on("click",t[9]),{c(){e=it("div"),n=it("div"),ie(o.$$.fragment),i=rt(),s=it("div"),ie(r.$$.fragment),a=rt(),l=it("div"),ie(c.$$.fragment),u=rt(),d=it("div"),ie(p.$$.fragment),dt(n,"class","entry-container svelte-1hpil19"),dt(s,"class","entry-container svelte-1hpil19"),dt(l,"class","entry-container svelte-1hpil19"),dt(d,"class","entry-container svelte-1hpil19"),dt(e,"class","position-list svelte-1hpil19")},m(t,h){et(t,e,h),K(e,n),se(o,n,null),K(e,i),K(e,s),se(r,s,null),K(e,a),K(e,l),se(c,l,null),K(e,u),K(e,d),se(p,d,null),f=!0},p(t,e){const n={};1&e&&(n.disabled=!1===t[0].hasSpaceAbove),o.$set(n);const i={};1&e&&(i.disabled=!1===t[0].hasSpaceUnderneath),r.$set(i);const s={};1&e&&(s.disabled=!1===t[0].hasSpaceOnTheRight),c.$set(s);const a={};1&e&&(a.disabled=!1===t[0].hasSpaceOnTheLeft),p.$set(a)},i(t){f||(Zt(o.$$.fragment,t),Zt(r.$$.fragment,t),Zt(c.$$.fragment,t),Zt(p.$$.fragment,t),h||Ht((()=>{h=ne(e,fi,{y:-5,duration:500}),h.start()})),f=!0)},o(t){te(o.$$.fragment,t),te(r.$$.fragment,t),te(c.$$.fragment,t),te(p.$$.fragment,t),f=!1},d(t){t&&nt(e),re(o),re(r),re(c),re(p)}}}function ar(t){let e,n,o,i,s,r,a;o=new sr({props:{position:t[0].current,label:t[3](t[0].current)}});let l=t[1]&&rr(t);return{c(){e=it("div"),n=it("button"),ie(o.$$.fragment),i=rt(),l&&l.c(),dt(n,"class","active-entry svelte-1hpil19"),wt(n,"isOpen",t[1]),dt(e,"class","position-options-container svelte-1hpil19")},m(c,u){et(c,e,u),K(e,n),se(o,n,null),K(e,i),l&&l.m(e,null),s=!0,r||(a=[lt(n,"click",ut(t[5])),F(L.call(null,e,!0)),lt(e,"click_outside",t[10])],r=!0)},p(t,[i]){const s={};1&i&&(s.position=t[0].current),1&i&&(s.label=t[3](t[0].current)),o.$set(s),2&i&&wt(n,"isOpen",t[1]),t[1]?l?(l.p(t,i),2&i&&Zt(l,1)):(l=rr(t),l.c(),Zt(l,1),l.m(e,null)):l&&(Xt(),te(l,1,1,(()=>{l=null})),Kt())},i(t){s||(Zt(o.$$.fragment,t),Zt(l),s=!0)},o(t){te(o.$$.fragment,t),te(l),s=!1},d(t){t&&nt(e),re(o),l&&l.d(),r=!1,R(a)}}}function lr(t,e,n){const o=kt();let{actualPosition:i}=e,s=!1;const r={TOP:"top",BOTTOM:"bottom",RIGHT:"right",LEFT:"left"};function a(t){o("newPosition",t),n(1,s=!1)}return t.$$set=t=>{"actualPosition"in t&&n(0,i=t.actualPosition)},[i,s,r,function(t){switch(t){case r.TOP:return chrome.i18n.getMessage("position_options_top");case r.BOTTOM:return chrome.i18n.getMessage("position_options_bottom");case r.RIGHT:return chrome.i18n.getMessage("position_options_right");case r.LEFT:return chrome.i18n.getMessage("position_options_left")}},a,()=>n(1,s=!s),t=>{t.stopPropagation(),t.preventDefault(),a(r.TOP)},()=>a(r.BOTTOM),()=>a(r.RIGHT),()=>a(r.LEFT),()=>n(1,s=!1)]}class cr extends ce{constructor(t){super(),le(this,t,lr,ar,I,{actualPosition:0})}}function ur(t){let e,n;return e=new tr({props:{headline:"website settings",jsonData:t[12]}}),{c(){ie(e.$$.fragment)},m(t,o){se(e,t,o),n=!0},p(t,n){const o={};32&n&&(o.jsonData=t[12]),e.$set(o)},i(t){n||(Zt(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){re(e,t)}}}function dr(t){let e,n,o,i;return e=new tr({props:{headline:"Response - Translated DOM",jsonData:t[10]}}),o=new tr({props:{headline:"Request - Original DOM",jsonData:t[11]}}),{c(){ie(e.$$.fragment),n=rt(),ie(o.$$.fragment)},m(t,s){se(e,t,s),et(t,n,s),se(o,t,s),i=!0},p(t,n){const i={};32&n&&(i.jsonData=t[10]),e.$set(i);const s={};32&n&&(s.jsonData=t[11]),o.$set(s)},i(t){i||(Zt(e.$$.fragment,t),Zt(o.$$.fragment,t),i=!0)},o(t){te(e.$$.fragment,t),te(o.$$.fragment,t),i=!1},d(t){re(e,t),t&&nt(n),re(o,t)}}}function pr(t){let e,n,o,i=Io(t[5].translatedSnippet)+"",s=t[5].translatedSnippet.length<200&&mr(t);return{c(){e=new bt,n=rt(),s&&s.c(),o=at(),e.a=n},m(t,r){e.m(i,t,r),et(t,n,r),s&&s.m(t,r),et(t,o,r)},p(t,n){32&n&&i!==(i=Io(t[5].translatedSnippet)+"")&&e.p(i),t[5].translatedSnippet.length<200?s?s.p(t,n):(s=mr(t),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},i:N,o:N,d(t){t&&e.d(),t&&nt(n),s&&s.d(t),t&&nt(o)}}}function hr(t){let e,n;return e=new ei({props:{errorMessage:t[5].error}}),{c(){ie(e.$$.fragment)},m(t,o){se(e,t,o),n=!0},p(t,n){const o={};32&n&&(o.errorMessage=t[5].error),e.$set(o)},i(t){n||(Zt(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){re(e,t)}}}function fr(t){let e,n,o;return n=new Jo({}),{c(){e=it("div"),ie(n.$$.fragment),dt(e,"class","loading-spinner-container svelte-tf62mz")},m(t,i){et(t,e,i),se(n,e,null),o=!0},p:N,i(t){o||(Zt(n.$$.fragment,t),o=!0)},o(t){te(n.$$.fragment,t),o=!1},d(t){t&&nt(e),re(n)}}}function mr(t){let e,n,o,i;return{c(){e=it("div"),n=it("span"),n.textContent=`${chrome.i18n.getMessage("inline_translation_show_more")}`,dt(n,"class","link svelte-tf62mz"),dt(e,"class","link-container svelte-tf62mz")},m(s,r){et(s,e,r),K(e,n),o||(i=lt(n,"click",t[7]),o=!0)},p:N,d(t){t&&nt(e),o=!1,i()}}}function gr(t){let e,n,o,i,s;const a=[fr,hr,pr,dr,ur],l=[];function c(t,e){return null==t[5]||t[5].translationState===r?0:t[5].error?1:t[5].translatedSnippet?2:((null==n||32&e)&&(n=!(!fe()||!t[5].translatedDOMSnippet)),n?3:4)}return o=c(t,-1),i=l[o]=a[o](t),{c(){e=it("div"),i.c(),dt(e,"class","tooltip-container svelte-tf62mz"),dt(e,"data-qa","deepl-inline-translation-popup")},m(t,n){et(t,e,n),l[o].m(e,null),s=!0},p(t,n){let s=o;o=c(t,n),o===s?l[o].p(t,n):(Xt(),te(l[s],1,1,(()=>{l[s]=null})),Kt(),i=l[o],i?i.p(t,n):(i=l[o]=a[o](t),i.c()),Zt(i,1),i.m(e,null))},i(t){s||(Zt(i),s=!0)},o(t){te(i),s=!1},d(t){t&&nt(e),l[o].d()}}}function vr(t){let e,n;return e=new cr({props:{actualPosition:t[0],replaceElement:t[3]}}),e.$on("newPosition",t[13]),{c(){ie(e.$$.fragment)},m(t,o){se(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.actualPosition=t[0]),8&n&&(o.replaceElement=t[3]),e.$set(o)},i(t){n||(Zt(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){re(e,t)}}}function _r(t){let e,n,o,i,s,r,a,l;n=new Xs({props:{closeWindow:t[1],showLangSelect:!0,settings:ve,websiteSettings:t[2],extensionContext:t[6],$$slots:{default:[gr]},$$scope:{ctx:t}}});let c=t[0].current&&vr(t);return{c(){e=it("div"),ie(n.$$.fragment),o=rt(),i=it("div"),c&&c.c(),dt(i,"class","footer svelte-tf62mz"),dt(e,"class","tooltip-wrapper svelte-tf62mz"),Ht((()=>t[14].call(e)))},m(u,d){et(u,e,d),se(n,e,null),K(e,o),K(e,i),c&&c.m(i,null),s=_t(e,t[14].bind(e)),r=!0,a||(l=[lt(i,"mousedown",ut(ct(t[9]))),F(L.call(null,e,!0)),lt(e,"click_outside",t[15])],a=!0)},p(t,[e]){const o={};2&e&&(o.closeWindow=t[1]),4&e&&(o.websiteSettings=t[2]),131104&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o),t[0].current?c?(c.p(t,e),1&e&&Zt(c,1)):(c=vr(t),c.c(),Zt(c,1),c.m(i,null)):c&&(Xt(),te(c,1,1,(()=>{c=null})),Kt())},i(t){r||(Zt(n.$$.fragment,t),Zt(c),r=!0)},o(t){te(n.$$.fragment,t),te(c),r=!1},d(t){t&&nt(e),re(n),c&&c.d(),s(),a=!1,R(l)}}}function wr(t,e,n){let o,i,r=N,a=()=>(r(),r=P(c,(t=>n(5,i=t))),c);j(t,ve,(t=>n(8,o=t))),t.$$.on_destroy.push((()=>r()));let{closeTooltip:l}=e,{websiteSettings:c}=e;a();let u,{replaceElement:d}=e,{actualPosition:p}=e,h={},m=f;return t.$$set=t=>{"closeTooltip"in t&&n(1,l=t.closeTooltip),"websiteSettings"in t&&a(n(2,c=t.websiteSettings)),"replaceElement"in t&&n(3,d=t.replaceElement),"actualPosition"in t&&n(0,p=t.actualPosition)},t.$$.update=()=>{288&t.$$.dirty&&i&&o&&(h.sourceLang=i.websiteLanguage,h.targetLang=o.selectedTargetLanguage,h.textToShare=i.originalSnippet),34&t.$$.dirty&&i&&(!i.isTranslationTooltipInjected||i.translationState!==s||i.translatedSnippet||i.error||i.translatedDOMSnippet||l()),280&t.$$.dirty&&n(0,p=d(u,o.inlineTranslateTooltipPosition))},[p,l,c,d,u,i,m,function(){T({action:"dlExternalURLRedirect",payload:{destination:vi,...h}})},o,function(e){Rt.call(this,t,e)},()=>i.translatedDOMSnippet,()=>i.originalSnippet,()=>i,t=>{ve.set({inlineTranslateTooltipPosition:t.detail}),n(0,p=d(u,t.detail))},function(){u=this.clientHeight,n(4,u)},()=>l()]}class yr extends ce{constructor(t){super(),le(this,t,wr,_r,I,{closeTooltip:1,websiteSettings:2,replaceElement:3,actualPosition:0})}}class br extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.container=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(t),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this)}createDOM(t,e,n){const{deepl_inline_ui:o}=w;this.shadowContainer&&this.shadowContainer.childElementCount>0&&this.cleanupDOM();const i=300,s=300;this.shadowContainer.appendChild(this.container);const r=t?.selectedTop,a=window.innerHeight-t?.selectedBottom,l=t?.selectedRight,c=t?.selectedLeft;let u=`position: absolute; top: 0px; left: 0px; width: 100%; z-index: ${o.z_index}`,d=`position: absolute; top: ${t.y}px; left: ${t.x}px; z-index: ${o.z_index};`;this.shadowContainer.style.cssText=u,this.container.style.cssText=d,this.mainComponent=new yr({target:this.container,props:{closeTooltip:e,websiteSettings:n,replaceElement:(e,n)=>{const p={hasSpaceOnTheLeft:c>s,hasSpaceOnTheRight:l>s,hasSpaceUnderneath:a>i,hasSpaceAbove:r>i},h=()=>{p.hasSpaceUnderneath?(this.container.style.top=`${t.y+2}px`,p.current="bottom"):p.hasSpaceAbove&&(this.container.style.top=t.y-t.height-e-2+"px",p.current="top")};return n?("top"===n&&(!1===p.hasSpaceAbove?h():(this.container.style.top=t.y-t.height-e-2+"px",this.container.style.left=`${t.x}px`,p.current="top")),"bottom"===n&&(!1===p.hasSpaceUnderneath?h():(this.container.style.top=`${t.y+2}px`,this.container.style.left=`${t.x}px`,p.current="bottom")),"right"===n&&(!1===p.hasSpaceOnTheRight?h():(this.container.style.top=t.y-t.height+"px",this.container.style.left=`${t.x+t.selectedWidth+2}px`,p.current="right")),"left"===n&&(!1===p.hasSpaceOnTheLeft?h():(this.container.style.top=t.y-t.height+"px",this.container.style.left=t.x-s-2+"px",p.current="left"))):h(),"left"!==p.current&&l+t.selectedWidth<=s&&(this.container.style.left="auto",this.container.style.right=`${l}px`),a<i&&r<i&&(u=`position: fixed; top:50%; left:50%; transform:translate(-50%,-50%); z-index: ${o.z_index}; max-height:90vh;`,d=`z-index: ${o.z_index};`,p.current=void 0),p}}})}cleanupDOM(){this.container.remove(),this.shadowContainer.remove(),this.shadowContainer=document.createElement("div"),this.container=document.createElement("div"),this.shadow.appendChild(this.shadowContainer),this.mainComponent&&this.mainComponent.$destroy()}}function $r(t){let e,n;return{c(){e=it("div")},m(t,o){et(t,e,o),n=!0},p:N,i(t){n||(Zt(false),n=!0)},o(t){te(false),n=!1},d(t){t&&nt(e)}}}window.customElements.define("deepl-inline-translate-tooltip",br);class xr extends ce{constructor(t){super(),le(this,t,null,$r,I,{})}}function Er(t){let e,n;return{c(){e=it("div"),n=st(t[0]),dt(e,"class","info-msg svelte-17qaccl")},m(t,o){et(t,e,o),K(e,n)},p(t,[e]){1&e&&pt(n,t[0])},i:N,o:N,d(t){t&&nt(e)}}}function Tr(t,e,n){let{message:o}=e;return t.$$set=t=>{"message"in t&&n(0,o=t.message)},[o]}class Sr extends ce{constructor(t){super(),le(this,t,Tr,Er,I,{message:0})}}function Cr(t){let e,n,o,i,s,r,a,l=`${chrome.i18n.getMessage("full_page_translation_menu_cancel_opt_lang")} ${chrome.i18n.getMessage(`supported_languages_${t[0].websiteLanguage}`)}`;return{c(){e=it("div"),n=it("button"),n.textContent=`${chrome.i18n.getMessage("full_page_translation_menu_cancel_opt_website")}`,o=rt(),i=it("button"),s=st(l),dt(n,"type","button"),dt(n,"class","svelte-6wng6s"),dt(i,"type","button"),dt(i,"class","svelte-6wng6s"),dt(e,"class","cancel-container svelte-6wng6s")},m(l,c){et(l,e,c),K(e,n),K(e,o),K(e,i),K(i,s),r||(a=[lt(n,"click",t[4]),lt(i,"click",t[3])],r=!0)},p(t,[e]){1&e&&l!==(l=`${chrome.i18n.getMessage("full_page_translation_menu_cancel_opt_lang")} ${chrome.i18n.getMessage(`supported_languages_${t[0].websiteLanguage}`)}`)&&pt(s,l)},i:N,o:N,d(t){t&&nt(e),r=!1,R(a)}}}function Lr(t,e,n){let o,s;const r=Dt("deepl_settings");j(t,r,(t=>n(5,s=t)));const a=Dt("deepl_website_settings");j(t,a,(t=>n(0,o=t)));const l=kt();return[o,r,a,()=>{let t=s.languagesForTranslation;o.websiteLanguage&&(t[o.websiteLanguage]=i,r.set({languagesForTranslation:t})),l("selectionDone")},()=>{let t=s.blacklistDomains;t.includes(o.hostname)||(t.push(o.hostname),r.set({blacklistDomains:t})),l("selectionDone")}]}class Or extends ce{constructor(t){super(),le(this,t,Lr,Cr,I,{})}}function Nr(t){let e,n,o;return n=new ei({props:{errorMessage:chrome.i18n.getMessage(t[1].error)}}),{c(){e=it("div"),ie(n.$$.fragment),dt(e,"class","error-container svelte-qh9ilx")},m(t,i){et(t,e,i),se(n,e,null),o=!0},p(t,e){const o={};2&e&&(o.errorMessage=chrome.i18n.getMessage(t[1].error)),n.$set(o)},i(t){o||(Zt(n.$$.fragment,t),o=!0)},o(t){te(n.$$.fragment,t),o=!1},d(t){t&&nt(e),re(n)}}}function kr(t){let e,n,o,i,s,r,a,l,c,u,d,p,h,f,m;d=new as({props:{value:t[2].selectedTargetLanguage}}),d.$on("selection",t[16]);const g=[Ur,Hr],v=[];function _(t,e){return t[3]?0:t[4]?-1:1}return~(h=_(t))&&(f=v[h]=g[h](t)),{c(){e=it("div"),n=it("div"),n.textContent=`${chrome.i18n.getMessage("full_page_translation_menu_headline")}`,o=rt(),i=it("div"),s=it("div"),r=st(t[6]),a=rt(),l=it("div"),c=rt(),u=it("div"),ie(d.$$.fragment),p=rt(),f&&f.c(),dt(n,"class","primary-text svelte-qh9ilx"),dt(s,"class","website-lang svelte-qh9ilx"),dt(l,"class","translate-to-arrow svelte-qh9ilx"),dt(u,"class","language-switch svelte-qh9ilx"),dt(i,"class","language-selection svelte-qh9ilx")},m(t,f){et(t,e,f),K(e,n),K(e,o),K(e,i),K(i,s),K(s,r),K(i,a),K(i,l),K(i,c),K(i,u),se(d,u,null),K(e,p),~h&&v[h].m(e,null),m=!0},p(t,n){(!m||64&n)&&pt(r,t[6]);const o={};4&n&&(o.value=t[2].selectedTargetLanguage),d.$set(o);let i=h;h=_(t),h===i?~h&&v[h].p(t,n):(f&&(Xt(),te(v[i],1,1,(()=>{v[i]=null})),Kt()),~h?(f=v[h],f?f.p(t,n):(f=v[h]=g[h](t),f.c()),Zt(f,1),f.m(e,null)):f=null)},i(t){m||(Zt(d.$$.fragment,t),Zt(f),m=!0)},o(t){te(d.$$.fragment,t),te(f),m=!1},d(t){t&&nt(e),re(d),~h&&v[h].d()}}}function Mr(t){let e,n,o,i,s,r,a=`${chrome.i18n.getMessage("full_page_translation_no_translate_lang_message")} ${t[6]}`;return{c(){e=it("div"),n=st(a),o=rt(),i=it("div"),i.textContent=`${chrome.i18n.getMessage("full_page_translation_no_translate_lang_change")}`,dt(e,"class","info-text svelte-qh9ilx"),dt(i,"class","link-text svelte-qh9ilx")},m(a,l){et(a,e,l),K(e,n),et(a,o,l),et(a,i,l),s||(r=lt(i,"click",t[15]),s=!0)},p(t,e){64&e&&a!==(a=`${chrome.i18n.getMessage("full_page_translation_no_translate_lang_message")} ${t[6]}`)&&pt(n,a)},i:N,o:N,d(t){t&&nt(e),t&&nt(o),t&&nt(i),s=!1,r()}}}function Dr(t){let e,n,o,i,s,r,a=`${chrome.i18n.getMessage("full_page_translation_no_translate_website_message")} ${t[1].hostname}`;return{c(){e=it("div"),n=st(a),o=rt(),i=it("div"),i.textContent=`${chrome.i18n.getMessage("full_page_translation_no_translate_website_change")}`,dt(e,"class","info-text svelte-qh9ilx"),dt(i,"class","link-text svelte-qh9ilx")},m(a,l){et(a,e,l),K(e,n),et(a,o,l),et(a,i,l),s||(r=lt(i,"click",t[15]),s=!0)},p(t,e){2&e&&a!==(a=`${chrome.i18n.getMessage("full_page_translation_no_translate_website_message")} ${t[1].hostname}`)&&pt(n,a)},i:N,o:N,d(t){t&&nt(e),t&&nt(o),t&&nt(i),s=!1,r()}}}function Rr(t){let e,n,o,i,s,r,a,l,c;return l=new Gi({props:{className:"button-reload",$$slots:{default:[Yr]},$$scope:{ctx:t}}}),l.$on("click",t[14]),{c(){e=it("div"),n=it("div"),o=it("p"),o.textContent=`${chrome.i18n.getMessage("full_page_translation_auto_translate_message")}`,i=rt(),s=it("p"),r=st(t[6]),a=rt(),ie(l.$$.fragment),dt(o,"class","svelte-qh9ilx"),dt(s,"class","svelte-qh9ilx"),dt(n,"class","translation-complete-text svelte-qh9ilx"),dt(e,"class","translation-complete-container svelte-qh9ilx"),dt(e,"data-qa","dl-pageloadpopup-translation-complete-message")},m(t,u){et(t,e,u),K(e,n),K(n,o),K(n,i),K(n,s),K(s,r),K(e,a),se(l,e,null),c=!0},p(t,e){(!c||64&e)&&pt(r,t[6]);const n={};33554432&e&&(n.$$scope={dirty:e,ctx:t}),l.$set(n)},i(t){c||(Zt(l.$$.fragment,t),c=!0)},o(t){te(l.$$.fragment,t),c=!1},d(t){t&&nt(e),re(l)}}}function Ar(t){let e,n,o,i,s;return n=new Jo({}),{c(){e=it("div"),ie(n.$$.fragment),o=rt(),i=it("div"),i.textContent=`${chrome.i18n.getMessage("full_page_translation_ongoing_translation")}`,dt(i,"class","loading-spinner-text svelte-qh9ilx"),dt(e,"class","loading-spinner-container svelte-qh9ilx")},m(t,r){et(t,e,r),se(n,e,null),K(e,o),K(e,i),s=!0},p:N,i(t){s||(Zt(n.$$.fragment,t),s=!0)},o(t){te(n.$$.fragment,t),s=!1},d(t){t&&nt(e),re(n)}}}function Ir(t){let e,n,o,i,s;return n=new Jo({}),{c(){e=it("div"),ie(n.$$.fragment),o=rt(),i=it("div"),i.textContent=`${chrome.i18n.getMessage("full_page_translation_auto_detect_lang")}`,dt(i,"class","loading-spinner-text svelte-qh9ilx"),dt(e,"class","loading-spinner-container svelte-qh9ilx")},m(t,r){et(t,e,r),se(n,e,null),K(e,o),K(e,i),s=!0},p:N,i(t){s||(Zt(n.$$.fragment,t),s=!0)},o(t){te(n.$$.fragment,t),s=!1},d(t){t&&nt(e),re(n)}}}function Pr(t){let e,n;return e=new xr({}),{c(){ie(e.$$.fragment)},m(t,o){se(e,t,o),n=!0},p:N,i(t){n||(Zt(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){re(e,t)}}}function jr(t){let e,n;return e=new Sr({props:{message:chrome.i18n.getMessage("full_page_translation_info_google_translate")}}),{c(){ie(e.$$.fragment)},m(t,o){se(e,t,o),n=!0},p:N,i(t){n||(Zt(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){re(e,t)}}}function Br(t){let e,n;return e=new Sr({props:{message:chrome.i18n.getMessage("full_page_translation_no_website_data")}}),{c(){ie(e.$$.fragment)},m(t,o){se(e,t,o),n=!0},p:N,i(t){n||(Zt(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){re(e,t)}}}function qr(t){let e,n;return e=new Jo({}),{c(){ie(e.$$.fragment)},m(t,o){se(e,t,o),n=!0},p:N,i(t){n||(Zt(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){re(e,t)}}}function Hr(t){let e,n,o,i,s,r=!t[5]&&zr(t);o=new Gi({props:{dataQa:"dl-button-translate-page",$$slots:{default:[Wr]},$$scope:{ctx:t}}}),o.$on("click",t[12]);let a=!t[5]&&Fr(t);return{c(){r&&r.c(),e=rt(),n=it("div"),ie(o.$$.fragment),i=rt(),a&&a.c(),dt(n,"class","row svelte-qh9ilx")},m(t,l){r&&r.m(t,l),et(t,e,l),et(t,n,l),se(o,n,null),K(n,i),a&&a.m(n,null),s=!0},p(t,i){t[5]?r&&(r.d(1),r=null):r?r.p(t,i):(r=zr(t),r.c(),r.m(e.parentNode,e));const s={};33554432&i&&(s.$$scope={dirty:i,ctx:t}),o.$set(s),t[5]?a&&(Xt(),te(a,1,1,(()=>{a=null})),Kt()):a?(a.p(t,i),32&i&&Zt(a,1)):(a=Fr(t),a.c(),Zt(a,1),a.m(n,null))},i(t){s||(Zt(o.$$.fragment,t),Zt(a),s=!0)},o(t){te(o.$$.fragment,t),te(a),s=!1},d(t){r&&r.d(t),t&&nt(e),t&&nt(n),re(o),a&&a.d()}}}function Ur(t){let e,n,o,i,s,r;return n=new Or({}),n.$on("selectionDone",t[17]),n.$on("closeMe",t[18]),{c(){e=it("div"),ie(n.$$.fragment)},m(o,a){et(o,e,a),se(n,e,null),i=!0,s||(r=[F(L.call(null,e)),lt(e,"click_outside",t[19]),lt(e,"outrostart",t[20]),lt(e,"outroend",t[21])],s=!0)},p:N,i(t){i||(Zt(n.$$.fragment,t),Ht((()=>{o||(o=oe(e,fi,{y:-50,duration:300},!0)),o.run(1)})),i=!0)},o(t){te(n.$$.fragment,t),o||(o=oe(e,fi,{y:-50,duration:300},!1)),o.run(0),i=!1},d(t){t&&nt(e),re(n),t&&o&&o.end(),s=!1,R(r)}}}function zr(t){let e,n,i,s,r,a,l,c,u=`${chrome.i18n.getMessage("full_page_translation_menu_always_translate")} ${t[6]}`;return{c(){e=it("div"),n=it("label"),i=it("input"),r=rt(),a=st(u),dt(i,"type","checkbox"),i.checked=s=t[2].languagesForTranslation[t[1].websiteLanguage]===o,dt(i,"class","svelte-qh9ilx"),dt(n,"class","svelte-qh9ilx"),dt(e,"class","always-translate svelte-qh9ilx")},m(o,s){et(o,e,s),K(e,n),K(n,i),K(n,r),K(n,a),l||(c=lt(i,"change",t[22]),l=!0)},p(t,e){6&e&&s!==(s=t[2].languagesForTranslation[t[1].websiteLanguage]===o)&&(i.checked=s),64&e&&u!==(u=`${chrome.i18n.getMessage("full_page_translation_menu_always_translate")} ${t[6]}`)&&pt(a,u)},d(t){t&&nt(e),l=!1,c()}}}function Wr(t){let e,n=chrome.i18n.getMessage("full_page_translation_menu_translate_button")+"";return{c(){e=st(n)},m(t,n){et(t,e,n)},p:N,d(t){t&&nt(e)}}}function Fr(t){let e,n;return e=new Gi({props:{className:"button-menu",$$slots:{default:[Gr]},$$scope:{ctx:t}}}),e.$on("click",t[23]),{c(){ie(e.$$.fragment)},m(t,o){se(e,t,o),n=!0},p(t,n){const o={};33554432&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(Zt(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){re(e,t)}}}function Gr(t){let e,n=chrome.i18n.getMessage("full_page_translation_menu_cancel_button")+"";return{c(){e=st(n)},m(t,n){et(t,e,n)},p:N,d(t){t&&nt(e)}}}function Yr(t){let e,n=chrome.i18n.getMessage("full_page_translation_show_original")+"";return{c(){e=st(n)},m(t,n){et(t,e,n)},p:N,d(t){t&&nt(e)}}}function Vr(t){let e,n,o,s,l,u,d,p=t[1]&&t[1].error&&Nr(t);const h=[qr,Br,jr,Pr,Ir,Ar,Rr,Dr,Mr,kr],f=[];function m(t,e){return null==t[1]?0:((null==n||2&e)&&(n=!(0!==Object.keys(t[1]).length)),n?1:t[1].isGoogleTranslatedActive?2:t[7]===t[10].settings?3:t[1].translationState===c?4:t[1].translationState===r?5:t[1].translationState===a?6:((null==o||6&e)&&(o=!!t[2].blacklistDomains.includes(t[1].hostname)),o?7:t[2].languagesForTranslation[t[1].websiteLanguage]===i?8:t[1].websiteLanguage?9:-1))}return~(s=m(t,-1))&&(l=f[s]=h[s](t)),{c(){p&&p.c(),e=rt(),l&&l.c(),u=at()},m(t,n){p&&p.m(t,n),et(t,e,n),~s&&f[s].m(t,n),et(t,u,n),d=!0},p(t,[n]){t[1]&&t[1].error?p?(p.p(t,n),2&n&&Zt(p,1)):(p=Nr(t),p.c(),Zt(p,1),p.m(e.parentNode,e)):p&&(Xt(),te(p,1,1,(()=>{p=null})),Kt());let o=s;s=m(t,n),s===o?~s&&f[s].p(t,n):(l&&(Xt(),te(f[o],1,1,(()=>{f[o]=null})),Kt()),~s?(l=f[s],l?l.p(t,n):(l=f[s]=h[s](t),l.c()),Zt(l,1),l.m(u.parentNode,u)):l=null)},i(t){d||(Zt(p),Zt(l),d=!0)},o(t){te(p),te(l),d=!1},d(t){p&&p.d(t),t&&nt(e),~s&&f[s].d(t),t&&nt(u)}}}function Jr(t,e,i){let s,r,a,{closeWindow:c}=e;const u=Dt("deepl_settings");j(t,u,(t=>i(2,a=t)));const d=Dt("deepl_website_settings");j(t,d,(t=>i(1,r=t)));const{PAGES:h,currentPage:f,setPage:m}=Dt("deepl_navigation");j(t,f,(t=>i(7,s=t)));let g,v=!1,_=!1,w=!1;const y=()=>{let t=a.languagesForTranslation;a.languagesForTranslation[r.websiteLanguage]===o?t[r.websiteLanguage]=n:t[r.websiteLanguage]=o,u.set({languagesForTranslation:t})};return t.$$set=t=>{"closeWindow"in t&&i(0,c=t.closeWindow)},t.$$.update=()=>{6&t.$$.dirty&&(r&&a&&r.websiteLanguage===a.selectedTargetLanguage?i(5,w=!0):i(5,w=!1)),2&t.$$.dirty&&r&&(r.isSupportedLanguage?i(6,g=chrome.i18n.getMessage(`supported_languages_${r.websiteLanguage}`)):i(6,g=chrome.i18n.getMessage("supported_languages_EN")))},[c,r,a,v,_,w,g,s,u,d,h,f,function(){0==a.isTargetLanguageConfirmed&&u.set({isTargetLanguageConfirmed:!0}),chrome.tabs?chrome.tabs.query({active:!0,currentWindow:!0},(function(t){chrome.tabs.sendMessage(t[0].id,{action:"dlTranslate",sourceLang:r.websiteLanguage,targetLang:a.selectedTargetLanguage})})):So(r.websiteLanguage,p)},y,()=>{chrome.tabs?chrome.tabs.query({active:!0,currentWindow:!0},(function(t){chrome.tabs.sendMessage(t[0].id,{action:"dlShowOriginal"})})):d.update({translationState:l})},function(){s!==h.settings&&m(h.settings)},t=>u.set({selectedTargetLanguage:t.detail.selectedOption.value,isTargetLanguageConfirmed:!0}),()=>{i(3,v=!1),c&&c()},()=>i(3,v=!1),()=>i(3,v=!1),()=>i(4,_=!0),()=>i(4,_=!1),()=>y(),()=>i(3,v=!v)]}class Qr extends ce{constructor(t){super(),le(this,t,Jr,Vr,I,{closeWindow:0})}}function Xr(t){let e,n;return e=new as({props:{value:t[2].selectedTargetLanguage}}),e.$on("selection",t[4]),{c(){ie(e.$$.fragment)},m(t,o){se(e,t,o),n=!0},p(t,n){const o={};4&n&&(o.value=t[2].selectedTargetLanguage),e.$set(o)},i(t){n||(Zt(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){re(e,t)}}}function Kr(t){let e,n,o,i,s,r,a,l,c=t[2].selectedTargetLanguage&&"undefined"!=t[2].selectedTargetLanguage&&Xr(t);return{c(){e=it("div"),n=it("div"),o=st(t[0]),i=rt(),s=it("div"),r=st(t[1]),a=rt(),c&&c.c(),dt(n,"class","primary-text svelte-1a997vi"),dt(s,"class","secondary-text svelte-1a997vi")},m(t,u){et(t,e,u),K(e,n),K(n,o),K(e,i),K(e,s),K(s,r),K(e,a),c&&c.m(e,null),l=!0},p(t,[n]){(!l||1&n)&&pt(o,t[0]),(!l||2&n)&&pt(r,t[1]),t[2].selectedTargetLanguage&&"undefined"!=t[2].selectedTargetLanguage?c?(c.p(t,n),4&n&&Zt(c,1)):(c=Xr(t),c.c(),Zt(c,1),c.m(e,null)):c&&(Xt(),te(c,1,1,(()=>{c=null})),Kt())},i(t){l||(Zt(c),l=!0)},o(t){te(c),l=!1},d(t){t&&nt(e),c&&c.d()}}}function Zr(t,e,n){let o,{headerText:i=chrome.i18n.getMessage("inline_translation_settings_headline")}=e,{subHeaderText:s=chrome.i18n.getMessage("inline_translation_settings_target_language")}=e;const r=Dt("deepl_settings");j(t,r,(t=>n(2,o=t)));return t.$$set=t=>{"headerText"in t&&n(0,i=t.headerText),"subHeaderText"in t&&n(1,s=t.subHeaderText)},[i,s,o,r,t=>r.set({selectedTargetLanguage:t.detail.selectedOption.value,isTargetLanguageConfirmed:!0})]}class ta extends ce{constructor(t){super(),le(this,t,Zr,Kr,I,{headerText:0,subHeaderText:1})}}function ea(t){let e;return{c(){e=it("div"),dt(e,"class","divider svelte-vueukj")},m(t,n){et(t,e,n)},p:N,i:N,o:N,d(t){t&&nt(e)}}}class na extends ce{constructor(t){super(),le(this,t,null,ea,I,{})}}function oa(t){let e,n,o,i,s;return{c(){e=it("div"),e.textContent=`${chrome.i18n.getMessage("settings_set_shortcuts_headline")}`,n=rt(),o=it("div"),o.textContent=`${chrome.i18n.getMessage("settings_set_shortcuts_link")}`,dt(e,"class","primary-text svelte-1nn26ef"),dt(o,"class","link svelte-1nn26ef")},m(r,a){et(r,e,a),et(r,n,a),et(r,o,a),i||(s=lt(o,"click",t[0]),i=!0)},p:N,i:N,o:N,d(t){t&&nt(e),t&&nt(n),t&&nt(o),i=!1,s()}}}function ia(t){return[function(){T({action:"dlExternalURLRedirect",payload:{destination:wi}})}]}class sa extends ce{constructor(t){super(),le(this,t,ia,oa,I,{})}}function ra(t){let e,n,o,i;const s=[ca,la],r=[];return e=1,n=r[e]=s[e](t),{c(){n.c(),o=at()},m(t,n){r[e].m(t,n),et(t,o,n),i=!0},p(t,i){let a=e;e=1,e===a?r[e].p(t,i):(Xt(),te(r[a],1,1,(()=>{r[a]=null})),Kt(),n=r[e],n?n.p(t,i):(n=r[e]=s[e](t),n.c()),Zt(n,1),n.m(o.parentNode,o))},i(t){i||(Zt(n),i=!0)},o(t){te(n),i=!1},d(t){r[e].d(t),t&&nt(o)}}}function aa(t){let e,n;return e=new xr({}),{c(){ie(e.$$.fragment)},m(t,o){se(e,t,o),n=!0},p:N,i(t){n||(Zt(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){re(e,t)}}}function la(t){let e,n,o,i,s,r,a,l,c,u,d,p,h,f,m;return o=new ta({}),r=new na({}),c=new _s({}),p=new sa({}),f=new Gi({props:{$$slots:{default:[ua]},$$scope:{ctx:t}}}),f.$on("click",t[3]),{c(){e=rt(),n=it("div"),ie(o.$$.fragment),i=rt(),s=it("div"),ie(r.$$.fragment),a=rt(),l=it("div"),ie(c.$$.fragment),u=rt(),d=it("div"),ie(p.$$.fragment),h=rt(),ie(f.$$.fragment),dt(n,"class","dl-content-item svelte-23xa9v"),dt(s,"class","dl-content-item svelte-23xa9v"),dt(l,"class","dl-content-item svelte-23xa9v"),dt(d,"class","dl-content-item svelte-23xa9v")},m(t,g){et(t,e,g),et(t,n,g),se(o,n,null),et(t,i,g),et(t,s,g),se(r,s,null),et(t,a,g),et(t,l,g),se(c,l,null),et(t,u,g),et(t,d,g),se(p,d,null),et(t,h,g),se(f,t,g),m=!0},p(t,e){const n={};256&e&&(n.$$scope={dirty:e,ctx:t}),f.$set(n)},i(t){m||(Zt(false),Zt(o.$$.fragment,t),Zt(r.$$.fragment,t),Zt(c.$$.fragment,t),Zt(p.$$.fragment,t),Zt(f.$$.fragment,t),m=!0)},o(t){te(false),te(o.$$.fragment,t),te(r.$$.fragment,t),te(c.$$.fragment,t),te(p.$$.fragment,t),te(f.$$.fragment,t),m=!1},d(t){t&&nt(e),t&&nt(n),re(o),t&&nt(i),t&&nt(s),re(r),t&&nt(a),t&&nt(l),re(c),t&&nt(u),t&&nt(d),re(p),t&&nt(h),re(f,t)}}}function ca(t){let e,n;return e=new Qr({}),{c(){ie(e.$$.fragment)},m(t,o){se(e,t,o),n=!0},p:N,i(t){n||(Zt(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){re(e,t)}}}function ua(t){let e,n=chrome.i18n.getMessage("default_popup_button_done")+"";return{c(){e=st(n)},m(t,n){et(t,e,n)},p:N,d(t){t&&nt(e)}}}function da(t){let e,n,o,i;const s=[aa,ra],r=[];function a(t,e){return t[1]===Ys.settings?0:t[1]===Ys.main?1:-1}return~(e=a(t))&&(n=r[e]=s[e](t)),{c(){n&&n.c(),o=at()},m(t,n){~e&&r[e].m(t,n),et(t,o,n),i=!0},p(t,i){let l=e;e=a(t),e===l?~e&&r[e].p(t,i):(n&&(Xt(),te(r[l],1,1,(()=>{r[l]=null})),Kt()),~e?(n=r[e],n?n.p(t,i):(n=r[e]=s[e](t),n.c()),Zt(n,1),n.m(o.parentNode,o)):n=null)},i(t){i||(Zt(n),i=!0)},o(t){te(n),i=!1},d(t){~e&&r[e].d(t),t&&nt(o)}}}function pa(t){let e,n;return e=new Xs({props:{showMenu:!0,extensionContext:t[0],$$slots:{default:[da]},$$scope:{ctx:t}}}),{c(){ie(e.$$.fragment)},m(t,o){se(e,t,o),n=!0},p(t,[n]){const o={};1&n&&(o.extensionContext=t[0]),262&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(Zt(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){re(e,t)}}}function ha(t,e,n){let o,i,s;j(t,Vs,(t=>n(1,i=t)));let{extensionContext:r=0}=e;const a=Dt("deepl_settings");j(t,a,(t=>n(2,s=t)));const l=Dt("deepl_website_settings");let c;return j(t,l,(t=>n(7,o=t))),Mt("deepl_navigation",{PAGES:Ys,currentPage:Vs}),t.$$set=t=>{"extensionContext"in t&&n(0,r=t.extensionContext)},t.$$.update=()=>{193&t.$$.dirty&&o&&o.hostname&&o.hostname!==c&&(n(6,c=o.hostname),T({action:"dlTrackExtensionOpenedEvent",payload:{domainName:c,extensionContext:r}}))},[r,i,s,()=>{window.close()},a,l,c,o]}class fa extends ce{constructor(t){super(),le(this,t,ha,pa,I,{extensionContext:0})}}function ma(t){let e,n,o,i;return o=new fa({props:{extensionContext:t[0]}}),{c(){e=it("div"),n=it("div"),ie(o.$$.fragment),dt(n,"class","default-container"),dt(e,"class","app-popup svelte-13jh7lp"),dt(e,"style",Yi()?"":"width:230px")},m(t,s){et(t,e,s),K(e,n),se(o,n,null),i=!0},p:N,i(t){i||(Zt(o.$$.fragment,t),i=!0)},o(t){te(o.$$.fragment,t),i=!1},d(t){t&&nt(e),re(o)}}}function ga(t){return Mt("deepl_settings",ve),Mt("deepl_website_settings",me),[h]}class va extends ce{constructor(t){super(),le(this,t,ga,ma,I,{})}}class _a extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(t),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(t=>{t.stopPropagation(),t.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this)}createDOM(){this.mainComponent=new va({target:this.shadowContainer})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}return window.customElements.define("deepl-page-load-popup",_a),t.DeeplInlinePopup=Ds,t.DeeplInlineTranslate=pi,t.DeeplInlineTranslateTooltip=br,t.DeeplInlineTrigger=zi,t.autodetectLanguage=async()=>T({action:"dlRequestDetectLanguage",payload:{sampleText:document.body.innerText.substring(0,200)}}),t.createInlineTranslateTooltip=go,t.createInlineTranslationTrigger=bo,t.createInlineTranslationTriggerListener=$o,t.createNotification=xo,t.createPageLoadPopup=_o,t.getUserState=Lo,t.getWebsiteSettings=Co,t.initInputObserver=Ni,t.onOpenPage=async e=>{if(!e.isTrusted)return;const n=await T({action:"dlGetAppSettings"});await Co();const s=await Lo();s.isLoggedIn&&s.isProUser&&C(t.websiteData.websiteLanguage)&&(n.selectedTargetLanguage!==t.websiteData.websiteLanguage||t.websiteData.isGoogleTranslatedActive)&&n.languagesForTranslation[t.websiteData.websiteLanguage]!==i&&(n.blacklistDomains.includes(t.websiteData.hostname)||(n.languagesForTranslation[t.websiteData.websiteLanguage]===o&&So(t.websiteData.websiteLanguage,d),_o()))},t.pageListener=Di,t.removeAllDeeplElements=ki,t.removeInlineTranslateTooltip=vo,t.removeInlineTranslateTrigger=yo,t.removePageLoadPopup=wo,t.scanForTranslatables=Fe,t.translateInlineDOM=Eo,t.translateInlineText=To,t.translateInputContent=Go,t.translateWebsite=So,t.unsubscribeToWebsiteState=ge,t.websiteState=me,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
//# sourceMappingURL=content.js.map
